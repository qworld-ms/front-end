!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}(self.webpackChunkquess_microservice=self.webpackChunkquess_microservice||[]).push([[593],{9457:function(e,t){var i,a;void 0===(a="function"==typeof(i=function(){"use strict";function t(e,t,i){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){o(a.response,t,i)},a.onerror=function(){console.error("could not download file")},a.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,o){var s=n.URL||n.webkitURL,l=document.createElement("a");l.download=r=r||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?a(l):i(l.href)?t(e,r,o):a(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){a(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,r){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),n);else if(i(e))t(e,n,r);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){a(o)})}}:function(e,i,a,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,i,a);var s="application/octet-stream"===e.type,l=/constructor/i.test(n.HTMLElement)||n.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var d=n.URL||n.webkitURL,p=d.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});n.saveAs=o.saveAs=o,e.exports=o})?i.apply(t,[]):i)||(e.exports=a)},6593:function(t,a,n){"use strict";n.r(a),n.d(a,{PerformanceServicesModule:function(){return se}});var r=n(8583),o=n(105),s=n(4655),l=n(3679),c=n(4026),u=n(9457),d=n(7716),p=n(6643),m=n(7929),v=n(9966),g=n(9517),f=n(6640),h=n(8295),Z=n(9983),b=n(3220);function A(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"button",22),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw(2).selectActiveSubServiceStatus(e)}),d._uU(2),d.qZA(),d.qZA()}if(2&e){var a=t.$implicit;d.xp6(2),d.Oqu(a.apiName)}}function x(e,t){if(1&e&&(d.ynx(0),d._UZ(1,"span",23),d.TgZ(2,"span",24),d._uU(3),d.qZA(),d.BQk()),2&e){var i=d.oxw(2);d.xp6(1),d.Akn(i.statusColors[i.getStatus(i.serviceDetails)]),d.xp6(2),d.hij("",i.getStatus(i.serviceDetails)," ")}}function T(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",32),d.TgZ(1,"p",33),d._uU(2,"Total Subscribers: "),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.qZA(),d.TgZ(5,"div",34),d.TgZ(6,"label",35),d._uU(7,"Select Subscribers"),d.qZA(),d.TgZ(8,"div",36),d.TgZ(9,"div",37),d.TgZ(10,"ng-select",38),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(3).selectedSubscriber=e}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",39),d.TgZ(12,"div",8),d.TgZ(13,"div",34),d.TgZ(14,"label",35),d._uU(15,"From"),d.qZA(),d.TgZ(16,"div",36),d.TgZ(17,"mat-form-field",40),d._UZ(18,"input",41),d._UZ(19,"mat-datepicker-toggle",42),d._UZ(20,"mat-datepicker",null,43),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",34),d.TgZ(23,"label",35),d._uU(24,"To"),d.qZA(),d.TgZ(25,"div",36),d.TgZ(26,"mat-form-field",40),d._UZ(27,"input",41),d._UZ(28,"mat-datepicker-toggle",42),d._UZ(29,"mat-datepicker",null,44),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(31,"div",8),d.TgZ(32,"div",34),d._UZ(33,"label",35),d.TgZ(34,"button",45),d.NdJ("click",function(){return d.CHM(i),d.oxw(3).downloadLogs()}),d._uU(35,"Download Logs"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(36,"div",46),d._uU(37,"Weekly Status"),d.qZA(),d.TgZ(38,"div",47),d.TgZ(39,"div",48),d.TgZ(40,"div",49),d._uU(41,"No. of Hits"),d.qZA(),d.TgZ(42,"div",50),d._uU(43),d.qZA(),d.qZA(),d.TgZ(44,"div",48),d.TgZ(45,"div",49),d._uU(46,"No. of Success"),d.qZA(),d.TgZ(47,"div",50),d._uU(48),d.qZA(),d.qZA(),d.TgZ(49,"div",48),d.TgZ(50,"div",49),d._uU(51,"No. of Fail"),d.qZA(),d.TgZ(52,"div",50),d._uU(53),d.qZA(),d.qZA(),d.qZA(),d.TgZ(54,"div",51),d._UZ(55,"ngx-charts-line-chart",52),d.qZA(),d.qZA()}if(2&e){var a=d.MAs(21),n=d.MAs(30),r=d.oxw(3);d.xp6(4),d.Oqu(r.serviceDetails.subscribers),d.xp6(6),d.Q6J("items",r.selectSubscribers)("bindValue","subscriberId")("bindLabel","userName")("clearable",!1)("ngModel",r.selectedSubscriber),d.xp6(8),d.Q6J("matDatepicker",a)("formControl",r.fromDate),d.xp6(1),d.Q6J("for",a),d.xp6(8),d.Q6J("matDatepicker",n)("formControl",r.toDate),d.xp6(1),d.Q6J("for",n),d.xp6(15),d.Oqu(r.totalHit),d.xp6(5),d.Oqu(r.sucessHit),d.xp6(5),d.Oqu(r.failureHit),d.xp6(2),d.Q6J("legend",!0)("results",r.chartData)("view",r.view)("xAxis",!0)("yAxis",!0)("scheme",r.colorScheme)("showGridLines",!1)}}function w(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",32),d.TgZ(1,"div",39),d.TgZ(2,"div",53),d.TgZ(3,"div",54),d.TgZ(4,"label",35),d._uU(5,"Select Subscribers"),d.qZA(),d.TgZ(6,"div",36),d.TgZ(7,"div",55),d.TgZ(8,"ng-select",38),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(3).selectedSubscriber=e}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"div",56),d.TgZ(10,"label",35),d._uU(11,"To"),d.qZA(),d.TgZ(12,"div",36),d.TgZ(13,"mat-form-field",57),d._UZ(14,"input",41),d._UZ(15,"mat-datepicker-toggle",42),d._UZ(16,"mat-datepicker",null,44),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"div",8),d.TgZ(19,"div",34),d._UZ(20,"label",35),d.TgZ(21,"button",58),d._uU(22,"Download Logs"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"div",46),d._uU(24,"API logs"),d.qZA(),d.TgZ(25,"div",59),d._uU(26),d.qZA(),d.qZA()}if(2&e){var a=d.MAs(17),n=d.oxw(3);d.xp6(8),d.Q6J("items",n.selectSubscribers)("bindValue","subscriberId")("bindLabel","userName")("clearable",!1)("ngModel",n.selectedSubscriber),d.xp6(6),d.Q6J("matDatepicker",a)("formControl",n.toDate),d.xp6(1),d.Q6J("for",a),d.xp6(11),d.hij(" ",n.serviceDetails.apiOutput," ")}}function q(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",25),d.TgZ(1,"ul",26,27),d.NdJ("activeIdChange",function(e){return d.CHM(i),d.oxw(2).active=e}),d.TgZ(3,"li",28),d.TgZ(4,"a",29),d._uU(5,"Summary"),d.qZA(),d.YNc(6,T,56,22,"ng-template",30),d.qZA(),d.TgZ(7,"li",28),d.TgZ(8,"a",29),d._uU(9,"Detailed Information"),d.qZA(),d.YNc(10,w,27,9,"ng-template",30),d.qZA(),d.qZA(),d._UZ(11,"div",31),d.qZA()}if(2&e){var a=d.MAs(2),n=d.oxw(2);d.xp6(1),d.Q6J("activeId",n.active),d.xp6(2),d.Q6J("ngbNavItem",1),d.xp6(4),d.Q6J("ngbNavItem",2),d.xp6(4),d.Q6J("ngbNavOutlet",a)}}function y(e,t){if(1&e&&(d.TgZ(0,"div",4),d.TgZ(1,"div",5),d.TgZ(2,"div",6),d.TgZ(3,"div",7),d.TgZ(4,"div",8),d.TgZ(5,"div",9),d.TgZ(6,"span",10),d._uU(7,"Service group :"),d.qZA(),d.TgZ(8,"span",11),d._uU(9),d.qZA(),d.qZA(),d.TgZ(10,"div",9),d.TgZ(11,"span",10),d._uU(12,"BE Name :"),d.qZA(),d.TgZ(13,"span",12),d._uU(14),d.qZA(),d.qZA(),d.TgZ(15,"div",9),d.TgZ(16,"span",10),d._uU(17,"# services :"),d.qZA(),d.TgZ(18,"span",12),d._uU(19),d.qZA(),d.qZA(),d.TgZ(20,"div",9),d.TgZ(21,"span",10),d._uU(22,"Created Date :"),d.qZA(),d.TgZ(23,"span",12),d._uU(24),d.ALo(25,"date"),d.qZA(),d.qZA(),d.TgZ(26,"div",9),d.TgZ(27,"span",10),d._uU(28,"Product :"),d.qZA(),d.TgZ(29,"span",12),d._uU(30),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(31,"div",6),d.TgZ(32,"div",13),d.TgZ(33,"div",8),d.TgZ(34,"div",14),d.TgZ(35,"span",10),d._uU(36," Select Service :"),d.qZA(),d.TgZ(37,"div",15),d.TgZ(38,"div",16),d.TgZ(39,"button",17),d._uU(40),d.qZA(),d.TgZ(41,"div",18),d.YNc(42,A,3,1,"div",19),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(43,"div",14),d.TgZ(44,"span",10),d._uU(45,"Status :"),d.qZA(),d.YNc(46,x,4,3,"ng-container",20),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(47,q,12,4,"div",21),d.qZA()),2&e){var i=d.oxw();d.xp6(9),d.Oqu(i.serviceDetails.serviceName),d.xp6(5),d.Oqu(i.serviceDetails.businessName),d.xp6(5),d.Oqu(i.serviceDetails.services),d.xp6(5),d.Oqu(d.xi3(25,9,i.serviceDetails.createdTimestamp,"mediumDate")),d.xp6(6),d.Oqu(i.serviceDetails.productName),d.xp6(10),d.Oqu(i.activeSubServiceStatus),d.xp6(2),d.Q6J("ngForOf",i.serviceData),d.xp6(4),d.Q6J("ngIf",i.statusItems),d.xp6(1),d.Q6J("ngIf",i.serviceDetails)}}var S=function(){var t=function(){function t(i,a,n,r,o){e(this,t),this.router=i,this.activatedRoute=a,this.httpService=n,this.apiService=r,this.stateService=o,this.breadcrumbList=[{label:"Performance Services"},{label:"View Logs of service"}],this.titleWithBack={title:"View Logs of Service"},this.active=1,this.selectSubscribers=[{id:1,value:"",label:"Dummmy 1"},{id:2,value:"",label:"Dummy 2"}],this.monthList=[{id:1,value:"",label:"September"},{id:2,value:"",label:"October"}],this.yearList=[{id:1,value:"",label:"2020"},{id:2,value:"",label:"2021"}],this.statusColors={Active:"background: #44CC3B 0% 0% no-repeat padding-box;",InActive:"background: #FF4B3A 0% 0% no-repeat padding-box;",Pending:"background: #FDAF00 0% 0% no-repeat padding-box;","On Hold":"background: #FDAF00 0% 0% no-repeat padding-box;"},this.activeSubServiceStatus="Attendance Input",this.serviceDetailsId=null,this.serviceId=null,this.fromDate=new l.NI(new Date),this.toDate=new l.NI(new Date),this.colorScheme={domain:["#FFE700","#A0EF89","#FF0000"],name:"nightLights",selectable:!0,group:c.N3.Ordinal},this.view=[800,313],this.chartData=[{name:"No. of Hits",series:[{name:"Aug",value:14},{name:"Sep",value:35},{name:"Oct",value:4},{name:"Nov",value:17},{name:"Dec",value:14},{name:"Jan",value:35}]},{name:"No. of Success",series:[{name:"Aug",value:364},{name:"Sep",value:412},{name:"Oct",value:437},{name:"Nov",value:437},{name:"Dec",value:364},{name:"Jan",value:412}]},{name:"No. of Fail",series:[{name:"Aug",value:168},{name:"Sep",value:343},{name:"Oct",value:512},{name:"Nov",value:291},{name:"Dec",value:168},{name:"Jan",value:343}]}]}return i(t,[{key:"ngOnInit",value:function(){this.status=this.activatedRoute.snapshot.queryParamMap.get("status"),this.serviceId=this.activatedRoute.snapshot.queryParamMap.get("serviceId"),this.serviceDetailsId=this.activatedRoute.snapshot.paramMap.get("id"),this.mainHeading="View Logs of Service",this.titleWithBack={title:this.mainHeading},this.breadcrumbList=[{label:"Service Management"},{label:this.mainHeading}],this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.servicesDetails,"/").concat(this.serviceDetailsId),"getMethod",{},"getDetails",{},!1),this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.subscribers,"?serviceId=").concat(this.serviceId,"&serviceDetailsId=").concat(this.serviceDetailsId),"getMethod",{},"getSubscribers",{},!1)}},{key:"getSubscribers",value:function(e){var t;this.selectSubscribers=e,this.selectedSubscriber=null===(t=e[0])||void 0===t?void 0:t.subscriberId;var i=new Date(this.fromDate.value),a=(i.getFullYear(),i.getMonth(),i.getDay(),new Date(this.toDate.value)),n=(a.getFullYear(),a.getMonth(),a.getDay(),this.getAppliedFilter());this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.hitDetails),"postMethod",n,"hitDetails",{},!1),this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.dateDetails),"postMethod",n,"getChartData",{},!1)}},{key:"getAppliedFilter",value:function(){var e=new Date(this.fromDate.value),t=(e.getFullYear(),e.getMonth(),e.getDay(),new Date(this.toDate.value));return t.getFullYear(),t.getMonth(),t.getDay(),{serviceId:this.serviceId,serviceDetailsId:this.serviceDetailsId,subscriberId:this.selectedSubscriber,fromDate:"2021-10-04",toDate:"2021-10-20"}}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"text/csv"});(0,u.saveAs)(t,"logs.csv")}},{key:"downloadLogs",value:function(){var e=this.getAppliedFilter(),t=Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&");this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.downloadAPIlogs,"?").concat(t),"download",t,"downloadFile",{},!1)}},{key:"getChartData",value:function(e){this.chartData=e}},{key:"hitDetails",value:function(e){this.sucessHit=e.sucessHit,this.failureHit=e.failureHit,this.totalHit=e.totalHit}},{key:"getStatus",value:function(e){return this.statusItems.find(function(t){return t.statusCode==e.apiStatus}).statusName}},{key:"serviceList",value:function(e){var t=this;this.serviceData=e,this.copyServiceData=JSON.parse(JSON.stringify(this.serviceData)),this.activeSubServiceStatus=this.serviceData.find(function(e){return e.apiName===t.serviceDetails.apiName}).apiName,this.serviceData=this.serviceData.filter(function(e){return e.apiName!==t.serviceDetails.apiName})}},{key:"selectActiveSubServiceStatus",value:function(e){this.activeSubServiceStatus=e.apiName,this.serviceData=JSON.parse(JSON.stringify(this.copyServiceData)),this.serviceDetails=this.copyServiceData.find(function(t){return t.apiName===e.apiName}),this.serviceData=this.serviceData.filter(function(t){return t.apiName!==e.apiName})}},{key:"statusList",value:function(e){console.log(e),this.statusItems=e}},{key:"getDetails",value:function(e){console.log(e),this.serviceDetails=e,this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.statusList),"getMethod",{},"statusList",{},!1),this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.services,"/").concat(this.serviceId),"getMethod",{},"serviceList",{},!1)}},{key:"commonApiCall",value:function(e,t,i,a,n){var r=this,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.stateService.addCalledApi(e),this.httpService[t](e,o,i).subscribe(function(e){r[a](e,n)},function(t){var i;(null===(i=t.error)||void 0===i?void 0:i.error)&&"string"==typeof t.error.error&&r.stateService.showMessage({type:"message",message:[t.error.error]}),r.stateService.removeCalledApi(e)},function(){r.stateService.removeCalledApi(e)})}},{key:"navigateBack",value:function(){this.router.navigate(["content/home/performance-services"])}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(s.F0),d.Y36(s.gz),d.Y36(p.O),d.Y36(m.s),d.Y36(v.b))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-view-logs-service"]],decls:7,vars:1,consts:[[1,"mt-2","pl-4","ml-4","font-medium-12"],[1,"cursor-pointer",3,"click"],[1,"text-primary"],["class","view-component-wrapper pl-4 pr-4",4,"ngIf"],[1,"view-component-wrapper","pl-4","pr-4"],[1,"view-component","mt-23"],[1,"row"],[1,"col"],[1,"d-flex","justify-content-between"],[1,"mt-26"],[1,"font-semi-bold-16"],[1,"font-medium-16","ml-13"],[1,"d-inline-block","font-medium-16","ml-13"],[1,"col-7"],[1,"mt-4"],[1,"font-light-14","ml-13","d-inline-block"],["ngbDropdown","","role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-primary"],["ngbDropdownMenu","",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","detail-info mt-4 mb-4",4,"ngIf"],["ngbDropdownItem","",3,"click"],[1,"d-inline-block","ml-2",2,"width","10px","height","10px","border-radius","50%"],[1,"ml-2"],[1,"detail-info","mt-4","mb-4"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"summary-section"],[1,"summary-total"],[1,"d-flex","flex-column"],[1,"summary-label"],[1,"d-inline-block","font-light-14"],[1,"col-4","p-0"],[3,"items","bindValue","bindLabel","clearable","ngModel","ngModelChange"],[1,"mt-4","d-flex","justify-content-between","align-items-end"],[1,"summary-datepicker","summary-dropdown"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["fromPicker",""],["toPicker",""],[1,"summary-button",3,"click"],[1,"font-16-header","mt-4"],[1,"d-flex","justify-content-between","mt-4","col-8","p-0"],[1,"card","d-flex","flex-column"],[1,"font-15-text"],[1,"font-24-bold"],[1,"chart","mt-4","col","p-0"],[3,"legend","results","view","xAxis","yAxis","scheme","showGridLines"],[1,"d-flex","col-6","p-0"],[1,"d-flex","flex-column","col-6","pl-0"],[1,"p-0"],[1,"d-flex","flex-column","col-6"],[1,"summary-datepicker","summary-dropdown",2,"width","100%"],[1,"summary-button"],[1,"font-14-text","log-card","mt-4"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"span"),d.TgZ(2,"span",1),d.NdJ("click",function(){return t.navigateBack()}),d._uU(3,"Performance of services / "),d.qZA(),d.TgZ(4,"span",2),d._uU(5," View Logs of Service"),d.qZA(),d.qZA(),d.qZA(),d.YNc(6,y,48,12,"div",3)),2&e&&(d.xp6(6),d.Q6J("ngIf",t.serviceDetails))},directives:[r.O5,g.jt,g.iD,g.Vi,r.sg,g.TH,g.Pz,g.nv,g.Vx,g.uN,g.tO,f.w9,l.JJ,l.On,h.KE,Z.Nt,b.hl,l.Fj,l.oH,b.nW,h.R9,b.Mq,c.Dw],pipes:[r.uU],styles:[".mt-26{margin-top:0!important}.mat-form-field-appearance-legacy .mat-form-field-underline{height:0!important}.mat-datepicker-toggle{font-size:18px!important}.card{border-radius:8px;opacity:1;padding:8px 15px;min-width:164px}.chart{width:100%;height:313px}.legend-label-color{border-radius:50%!important}.legend-title-text{display:none!important}"],encapsulation:2}),t}(),D=n(2091),k=["allServiceTable"];function N(e,t){1&e&&(d.TgZ(0,"th",32),d._uU(1," Service Group "),d.qZA())}function _(e,t){if(1&e&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&e){var i=t.$implicit;d.xp6(1),d.hij(" ",i.serviceGroup," ")}}function U(e,t){1&e&&(d.TgZ(0,"th",32),d._uU(1," Type "),d.qZA())}function C(e,t){if(1&e&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&e){var i=t.$implicit;d.xp6(1),d.hij(" ",i.serviceType," ")}}function M(e,t){1&e&&(d.TgZ(0,"th",32),d._uU(1," Services "),d.qZA())}function I(e,t){if(1&e&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&e){var i=t.$implicit;d.xp6(1),d.hij(" ",i.services," ")}}function J(e,t){1&e&&(d.TgZ(0,"th",32),d._uU(1," Product "),d.qZA())}function O(e,t){if(1&e&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&e){var i=t.$implicit;d.xp6(1),d.hij(" ",i.productName," ")}}function L(e,t){1&e&&(d.TgZ(0,"th",32),d._uU(1," Published Date "),d.qZA())}function Q(e,t){if(1&e&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&e){var i=t.$implicit;d.xp6(1),d.hij(" ",i.createdTimestamp," ")}}function F(e,t){1&e&&(d.TgZ(0,"th",32),d._uU(1," # Subscribers "),d.qZA())}function Y(e,t){if(1&e&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&e){var i=t.$implicit;d.xp6(1),d.hij(" ",i.subscribers," ")}}function R(e,t){1&e&&(d.TgZ(0,"th",32),d._uU(1," Status "),d.qZA())}function B(e,t){if(1&e&&(d.ynx(0),d._UZ(1,"span",35),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&e){var i=d.oxw().$implicit,a=d.oxw(2);d.xp6(1),d.Akn(a.statusColors[a.getStatus(i)]),d.xp6(2),d.hij("",a.getStatus(i)," ")}}function H(e,t){if(1&e&&(d.TgZ(0,"td",33),d.YNc(1,B,4,3,"ng-container",34),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Q6J("ngIf",i.statusItems)}}function j(e,t){1&e&&(d.TgZ(0,"th",32),d._uU(1," Action "),d.qZA())}function E(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"td",33),d.TgZ(1,"img",36),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw(2).expandData(e)}),d.qZA(),d.qZA()}}function P(e,t){if(1&e&&(d.ynx(0),d._UZ(1,"span",35),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&e){var i=d.oxw().$implicit,a=d.oxw(4);d.xp6(1),d.Akn(a.statusColors[a.getNestedRowStatus(i)]),d.xp6(2),d.hij("",a.getNestedRowStatus(i)," ")}}function $(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"tr",40),d.TgZ(1,"td",41),d._uU(2),d.qZA(),d.TgZ(3,"td",41),d._uU(4),d.qZA(),d.TgZ(5,"td",41),d._uU(6),d.qZA(),d.TgZ(7,"td",41),d._uU(8),d.qZA(),d.TgZ(9,"td",41),d._uU(10),d.qZA(),d.TgZ(11,"td",41),d._uU(12),d.qZA(),d.TgZ(13,"td",41),d.YNc(14,P,4,3,"ng-container",34),d.qZA(),d.TgZ(15,"td",41),d.TgZ(16,"span",42),d.TgZ(17,"img",43),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw(4).viewPerformanceService(e)}),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var a=t.$implicit;d.oxw(2);var n=d.MAs(2),r=d.oxw(2);d.xp6(1),d.Q6J("ngStyle",r.getCellStyle(a,n,"serviceGroup")),d.xp6(1),d.Oqu(null==a?null:a.apiName),d.xp6(1),d.Q6J("ngStyle",r.getCellStyle(a,n,"serviceType")),d.xp6(1),d.Oqu(null==a?null:a.serviceType),d.xp6(1),d.Q6J("ngStyle",r.getCellStyle(a,n,"services")),d.xp6(1),d.Oqu(null==a?null:a.services),d.xp6(1),d.Q6J("ngStyle",r.getCellStyle(a,n,"productName")),d.xp6(1),d.Oqu(null==a?null:a.productName),d.xp6(1),d.Q6J("ngStyle",r.getCellStyle(a,n,"subscribers")),d.xp6(1),d.Oqu(null==a?null:a.subscribers),d.xp6(1),d.Q6J("ngStyle",r.getCellStyle(a,n,"createdTimestamp")),d.xp6(1),d.Oqu(null==a?null:a.createdTimestamp),d.xp6(1),d.Q6J("ngStyle",r.getCellStyle(a,n,"status")),d.xp6(1),d.Q6J("ngIf",r.statusItems),d.xp6(1),d.Q6J("ngStyle",r.getCellStyle(a,n,"action"))}}function z(e,t){if(1&e&&(d.ynx(0),d.YNc(1,$,18,15,"tr",39),d.BQk()),2&e){var i=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",i.nestedRows)}}function G(e,t){if(1&e&&(d.TgZ(0,"td",33),d.TgZ(1,"div",37,38),d.YNc(3,z,2,1,"ng-container",34),d.qZA(),d.qZA()),2&e){var i=t.$implicit,a=d.oxw(2);d.uIk("colspan",a.columnsToDisplay.length),d.xp6(1),d.Q6J("@detailExpand",i==a.expandedElement?"expanded":"collapsed"),d.xp6(2),d.Q6J("ngIf",i.nestedRows)}}function V(e,t){1&e&&d._UZ(0,"tr",44)}function W(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"tr",45),d.NdJ("click",function(){var e=d.CHM(i).$implicit,t=d.oxw(2);return t.expandedElement=t.expandedElement===e?null:e}),d.qZA()}if(2&e){var a=t.$implicit,n=d.oxw(2);d.ekj("example-expanded-row",n.expandedElement===a)}}function X(e,t){1&e&&d._UZ(0,"tr",46)}var K=function(){return["expandedDetail"]};function ee(e,t){if(1&e&&(d.TgZ(0,"table",16,17),d.ynx(2,18),d.YNc(3,N,2,0,"th",19),d.YNc(4,_,2,1,"td",20),d.BQk(),d.ynx(5,21),d.YNc(6,U,2,0,"th",19),d.YNc(7,C,2,1,"td",20),d.BQk(),d.ynx(8,22),d.YNc(9,M,2,0,"th",19),d.YNc(10,I,2,1,"td",20),d.BQk(),d.ynx(11,23),d.YNc(12,J,2,0,"th",19),d.YNc(13,O,2,1,"td",20),d.BQk(),d.ynx(14,24),d.YNc(15,L,2,0,"th",19),d.YNc(16,Q,2,1,"td",20),d.BQk(),d.ynx(17,25),d.YNc(18,F,2,0,"th",19),d.YNc(19,Y,2,1,"td",20),d.BQk(),d.ynx(20,26),d.YNc(21,R,2,0,"th",19),d.YNc(22,H,2,1,"td",20),d.BQk(),d.ynx(23,27),d.YNc(24,j,2,0,"th",19),d.YNc(25,E,2,0,"td",20),d.BQk(),d.ynx(26,28),d.YNc(27,G,4,3,"td",20),d.BQk(),d.YNc(28,V,1,0,"tr",29),d.YNc(29,W,1,2,"tr",30),d.YNc(30,X,1,0,"tr",31),d.qZA()),2&e){var i=d.oxw();d.Q6J("dataSource",i.dataSource),d.xp6(28),d.Q6J("matHeaderRowDef",i.columnsToDisplay),d.xp6(1),d.Q6J("matRowDefColumns",i.columnsToDisplay),d.xp6(1),d.Q6J("matRowDefColumns",d.DdM(4,K))}}var te,ie,ae=function t(){e(this,t),this.size=0,this.totalElements=0,this.totalPages=0,this.pageNumber=0},ne=[{path:"",component:(te=function(){function t(i,a,n,r,o){e(this,t),this.router=i,this.httpService=a,this.apiService=n,this.stateService=r,this.datePipe=o,this.active=1,this.statusColors={Active:"background: #44CC3B 0% 0% no-repeat padding-box;",InActive:"background: #FF4B3A 0% 0% no-repeat padding-box;",Pending:"background: #FDAF00 0% 0% no-repeat padding-box;","On Hold":"background: #FDAF00 0% 0% no-repeat padding-box;"},this.expandedElement=null,this.columnsToDisplay=["serviceGroup","serviceType","services","productName","subscribers","createdTimestamp","status","action"],this.types=[{label:"Platform Developer"},{label:"Platform Developer"},{label:"Platform Developer"},{label:"Platform Developer"}],this.serviceName="apiController",this.serviceType="apiController",this.product="apiController",this.serviceTypes=[{id:1,value:"apiController",label:"API controller"},{id:2,value:"dummyController",label:"dummy controller"}],this.status=[{label:"Active"},{label:"Inactive"}],this.page=new ae}return i(t,[{key:"ngOnInit",value:function(){this.page.pageNumber=0,this.page.size=10,this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.servicegroup,"?page=").concat(this.page.pageNumber,"&limit=").concat(this.page.size),"getMethod",{},"listService",{},!1)}},{key:"listService",value:function(e,t){var i=this;console.log(e,t),this.dataSource=e.content.map(function(e){return e.createdTimestamp=i.datePipe.transform(e.createdTimestamp,"mediumDate"),e}),this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.statusList),"getMethod",{},"statusList",{},!1)}},{key:"statusList",value:function(e){console.log(e),this.statusItems=e}},{key:"getStatus",value:function(e){return this.statusItems.find(function(t){return t.statusCode==e.serviceStatus}).statusName}},{key:"getNestedRowStatus",value:function(e){return this.statusItems.find(function(t){return t.statusCode==e.apiStatus}).statusName}},{key:"expandData",value:function(e){e.nestedRows&&e.nestedRows.length>0||this.commonApiCall("".concat(this.apiService.apiList.serviceManagement.services,"/").concat(e.serviceId),"getMethod",{},"displayServices",e,!1)}},{key:"displayServices",value:function(e,t){var i=this;t.nestedRows=e.map(function(e){return e.createdTimestamp=i.datePipe.transform(e.createdTimestamp,"mediumDate"),e})}},{key:"getCellStyle",value:function(e,t,i){var a=this.allServiceTable._document.querySelector(".mat-column-".concat(i)).getBoundingClientRect().width;return"serviceGroup"===i&&(a-=24),{width:a+="px",padding:"0.75rem 0rem"}}},{key:"commonApiCall",value:function(e,t,i,a,n){var r=this,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.stateService.addCalledApi(e),this.httpService[t](e,o,i).subscribe(function(e){r[a](e,n)},function(t){var i;(null===(i=t.error)||void 0===i?void 0:i.error)&&"string"==typeof t.error.error&&r.stateService.showMessage({type:"message",message:[t.error.error]}),r.stateService.removeCalledApi(e)},function(){r.stateService.removeCalledApi(e)})}},{key:"viewPerformanceService",value:function(e){this.router.navigate(["/content/home/performance-services/view/".concat(e.serviceDetailsId)],{queryParams:{serviceId:e.serviceId}})}}]),t}(),te.\u0275fac=function(e){return new(e||te)(d.Y36(s.F0),d.Y36(p.O),d.Y36(m.s),d.Y36(v.b),d.Y36(r.uU))},te.\u0275cmp=d.Xpm({type:te,selectors:[["app-performance-services"]],viewQuery:function(e,t){var i;1&e&&d.Gf(k,5),2&e&&d.iGM(i=d.CRH())&&(t.allServiceTable=i.first)},decls:27,vars:13,consts:[[1,"component-wrapper","pl-4","pr-4"],[1,"mt-3"],[1,"search-bar","mt-17","row","align-items-center","justify-items-center"],[1,"form-group","has-search","col-md-4"],[1,"page-heading"],["src","/assets/images/help_outline_black_24dp.svg","alt","help outline icon"],[1,"form-control-search-icon"],["src","/assets/images/search_black_24dp.svg","alt","search icons"],["type","text","placeholder","search",1,"form-control"],[1,"mt-2"],[1,"form-group","col-md-2"],["for","serviceType",1,"form-label-16"],["labelForId","serviceName","bindLable","label","bindValue","value",3,"searchable","clearable","items","ngModel","ngModelChange"],["labelForId","serviceType","bindLable","label","bindValue","value",3,"searchable","clearable","ngModel","items","ngModelChange"],["labelForId","product","bindLable","label","bindValue","value",3,"searchable","clearable","ngModel","items","ngModelChange"],["mat-table","","multiTemplateDataRows","","class","w-100",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"w-100",3,"dataSource"],["allServiceTable",""],["matColumnDef","serviceGroup"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","serviceType"],["matColumnDef","services"],["matColumnDef","productName"],["matColumnDef","createdTimestamp"],["matColumnDef","subscribers"],["matColumnDef","status"],["matColumnDef","action","width","30%"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[1,"d-inline-block","mr-2",2,"width","10px","height","10px","border-radius","50%"],["src","/assets/images/Icons-Line-chevrons-left.svg","alt","expand icon",1,"expand_icon",3,"click"],[1,"example-element-detail"],["nav",""],["class","nested-rows",4,"ngFor","ngForOf"],[1,"nested-rows"],["mat-cell","",3,"ngStyle"],[1,"d-inline-block","ml-2"],["src","/assets/images/view_icon.svg","alt","view icon",1,"view_icon",3,"click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"label",4),d._uU(5," Performance of services "),d.TgZ(6,"span"),d._UZ(7,"img",5),d.qZA(),d.qZA(),d.TgZ(8,"span",6),d._UZ(9,"img",7),d.qZA(),d._UZ(10,"input",8),d.qZA(),d.TgZ(11,"span",9),d._uU(12,"Filters:"),d.qZA(),d.TgZ(13,"div",10),d.TgZ(14,"label",11),d._uU(15,"Service Name"),d.qZA(),d.TgZ(16,"ng-select",12),d.NdJ("ngModelChange",function(e){return t.serviceName=e}),d.qZA(),d.qZA(),d.TgZ(17,"div",10),d.TgZ(18,"label",11),d._uU(19,"Service Type"),d.qZA(),d.TgZ(20,"ng-select",13),d.NdJ("ngModelChange",function(e){return t.serviceType=e}),d.qZA(),d.qZA(),d.TgZ(21,"div",10),d.TgZ(22,"label",11),d._uU(23,"Product"),d.qZA(),d.TgZ(24,"ng-select",14),d.NdJ("ngModelChange",function(e){return t.product=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"div"),d.YNc(26,ee,31,5,"table",15),d.qZA(),d.qZA()),2&e&&(d.xp6(16),d.Q6J("searchable",!1)("clearable",!1)("items",t.serviceTypes)("ngModel",t.serviceName),d.xp6(4),d.Q6J("searchable",!1)("clearable",!1)("ngModel",t.serviceType)("items",t.serviceTypes),d.xp6(4),d.Q6J("searchable",!1)("clearable",!1)("ngModel",t.product)("items",t.serviceTypes),d.xp6(2),d.Q6J("ngIf",t.dataSource))},directives:[f.w9,l.JJ,l.On,r.O5,D.BZ,D.w1,D.fO,D.Dz,D.as,D.nj,D.ge,D.ev,r.sg,r.PC,D.XQ,D.Gk],styles:[".nested-rows{background:#f8fbff 0 0 no-repeat padding-box}table{width:100%}tr.example-detail-row{height:0!important}tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.mat-cell:last-child,.mat-header-cell:last-child{width:18%}.example-element-detail{overflow:hidden;display:flex;flex-direction:column}.example-element-detail .mat-cell:first-of-type{padding-left:0!important}.example-element-detail .mat-cell:last-of-type{padding-right:0!important}.example-element-detail tr{height:48px!important}td.mat-column-expandedDetail{padding-right:0!important}.example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}tr.mat-header-row{height:50px!important;background:#eff5fc 0 0 no-repeat padding-box}"],encapsulation:2}),te)},{path:"view/:id",component:S}],re=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[s.Bz.forChild(ne)],s.Bz]}),t}(),oe=n(3013),se=((ie=function t(){e(this,t)}).\u0275fac=function(e){return new(e||ie)},ie.\u0275mod=d.oAB({type:ie}),ie.\u0275inj=d.cJS({providers:[oe.ez],imports:[[r.ez,o.m8,re]]}),ie)}}])}();