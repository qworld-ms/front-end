(self.webpackChunkquess_microservice=self.webpackChunkquess_microservice||[]).push([[51],{3051:function(e,t,r){"use strict";r.r(t),r.d(t,{UserManagementModule:function(){return te}});var i=r(8583),o=r(4655),a=r(3679),s=r(7716),n=r(6643),l=r(7929),c=r(9966),u=r(9344),d=r(9231),p=r(6640);function m(e,t){if(1&e){const e=s.EpF();s.ynx(0,23),s.TgZ(1,"div",24),s.TgZ(2,"div"),s.TgZ(3,"button",25),s.NdJ("click",function(){return s.CHM(e),s.oxw().createUserForm.reset()})("click",function(){return s.CHM(e),s.oxw().closeDialog()}),s.qZA(),s.qZA(),s.TgZ(4,"p"),s.TgZ(5,"b",26),s._uU(6," Product Owner "),s.qZA(),s._UZ(7,"br"),s._UZ(8,"br"),s._uU(9," Platform Developer it is a long established fact that a reader will be distracted by a readable content of a page when looking at its layout. "),s.qZA(),s.qZA(),s.BQk()}}function g(e,t){if(1&e){const e=s.EpF();s.ynx(0,23),s.TgZ(1,"div",24),s.TgZ(2,"div"),s.TgZ(3,"button",25),s.NdJ("click",function(){return s.CHM(e),s.oxw().createUserForm.reset()})("click",function(){return s.CHM(e),s.oxw().closeDialog()}),s.qZA(),s.qZA(),s.TgZ(4,"p"),s.TgZ(5,"b",26),s._uU(6," Platform Admin "),s.qZA(),s._UZ(7,"br"),s._UZ(8,"br"),s._uU(9," Platform Developer it is a long established fact that a reader will be distracted by a readable content of a page when looking at its layout. "),s.qZA(),s.qZA(),s.BQk()}}function Z(e,t){if(1&e){const e=s.EpF();s.ynx(0,23),s.TgZ(1,"div",24),s.TgZ(2,"div"),s.TgZ(3,"button",25),s.NdJ("click",function(){return s.CHM(e),s.oxw().createUserForm.reset()})("click",function(){return s.CHM(e),s.oxw().closeDialog()}),s.qZA(),s.qZA(),s.TgZ(4,"p"),s.TgZ(5,"b",26),s._uU(6," Product Developer "),s.qZA(),s._UZ(7,"br"),s._UZ(8,"br"),s._uU(9," Platform Developer it is a long established fact that a reader will be distracted by a readable content of a page when looking at its layout. "),s.qZA(),s.qZA(),s.BQk()}}function h(e,t){if(1&e){const e=s.EpF();s.ynx(0,23),s.TgZ(1,"div",24),s.TgZ(2,"div"),s.TgZ(3,"button",25),s.NdJ("click",function(){return s.CHM(e),s.oxw().createUserForm.reset()})("click",function(){return s.CHM(e),s.oxw().closeDialog()}),s.qZA(),s.qZA(),s.TgZ(4,"p"),s.TgZ(5,"b",26),s._uU(6," Bussiness Entity Admin "),s.qZA(),s._UZ(7,"br"),s._UZ(8,"br"),s._uU(9," Platform Developer it is a long established fact that a reader will be distracted by a readable content of a page when looking at its layout. "),s.qZA(),s.qZA(),s.BQk()}}function f(e,t){if(1&e){const e=s.EpF();s.ynx(0,23),s.TgZ(1,"div",24),s.TgZ(2,"div"),s.TgZ(3,"button",25),s.NdJ("click",function(){return s.CHM(e),s.oxw().createUserForm.reset()})("click",function(){return s.CHM(e),s.oxw().closeDialog()}),s.qZA(),s.qZA(),s.TgZ(4,"p"),s.TgZ(5,"b",26),s._uU(6," Subscriber "),s.qZA(),s._UZ(7,"br"),s._UZ(8,"br"),s._uU(9," Platform Developer it is a long established fact that a reader will be distracted by a readable content of a page when looking at its layout. "),s.qZA(),s.qZA(),s.BQk()}}function v(e,t){if(1&e){const e=s.EpF();s.ynx(0,23),s.TgZ(1,"div",24),s.TgZ(2,"div"),s.TgZ(3,"button",25),s.NdJ("click",function(){return s.CHM(e),s.oxw().createUserForm.reset()})("click",function(){return s.CHM(e),s.oxw().closeDialog()}),s.qZA(),s.qZA(),s.TgZ(4,"p"),s.TgZ(5,"b",26),s._uU(6," Platform Developer "),s.qZA(),s._UZ(7,"br"),s._UZ(8,"br"),s._uU(9," Platform Developer it is a long established fact that a reader will be distracted by a readable content of a page when looking at its layout. "),s.qZA(),s.qZA(),s.BQk()}}let b=(()=>{class e{constructor(e,t,r,i,o,a,s){this.formBuilder=e,this.router=t,this.httpService=r,this.apiService=i,this.stateService=o,this.datePipe=a,this.toastr=s,this.buildForm()}ngOnInit(){this.commonApiCall(`${this.apiService.apiList.userManagement.list}`,"getMethod",{},"userList",{},!1)}userList(e){this.userGroupData=e}selectRole(e){console.log(e)}submitUserData(){let{userName:e,userEmailId:t,userGroup:r}=this.createUserForm.value,i={username:e,userEmailId:t,roleType:r};console.log(this.createUserForm.value),this.commonApiCall(`${this.apiService.apiList.userManagement.save}`,"postMethod",i,"dataSubmitted",{},!1)}get f(){return this.createUserForm.controls}dataSubmitted(e){this.toastr.success("Submitted data save","Success")}buildForm(){this.createUserForm=this.formBuilder.group({userName:["",a.kI.required],userEmailId:["",a.kI.required],userGroup:["",a.kI.required]})}commonApiCall(e,t,r,i,o,a=!1){this.stateService.addCalledApi(e),this.httpService[t](e,a,r).subscribe(e=>{this[i](e,o)},t=>{var r;(null===(r=t.error)||void 0===r?void 0:r.error)&&"string"==typeof t.error.error&&this.toastr.error("err.error.error","Error"),this.stateService.removeCalledApi(e)},()=>{this.stateService.removeCalledApi(e)})}backToPage(){this.router.navigate(["/content/home/user-management/"])}closeDialog(){this.currentRole=null}applyFilter1(e){console.log(e),this.checkRole=e,this.currentRole=this.checkRole.roleType,console.log(this.currentRole)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.qu),s.Y36(o.F0),s.Y36(n.O),s.Y36(l.s),s.Y36(c.b),s.Y36(i.uU),s.Y36(u._W))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-create-user-management"]],decls:56,vars:16,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"breadcrumb",2,"background-color","white"],["href","#",2,"color","black"],["href","#"],[1,"card","p-4"],[1,"card-header",2,"background-color","whitesmoke"],[1,"card-body"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-4"],["for","userName",1,"form-label-16"],["type","text","id","userName","placeholder","User Name","formControlName","userName",1,"form-control",2,"background","white"],[3,"control"],[1,"col-md-4"],["for","userEmailId",1,"form-label-16"],["type","text","id","userEmailId","placeholder","User Email ID","formControlName","userEmailId",1,"form-control",2,"background","white"],["for","userGroup",1,"form-label-16"],["labelForId","userGroup","formControlName","userGroup",3,"searchable","clearable","items","bindLabel","bindValue","change"],[1,"form-group","col-md-4",2,"margin-left","-22px"],["type","submit",1,"btn","btn-primary","ml-4",2,"width","72px",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",2,"margin-left","14px",3,"click"],["type","submit",1,"btn","btn-primary","ml-4",3,"click"],["else","",4,"ngIf"],["else",""],[1,"box","arrow-left"],[1,"close-icon",3,"click"],[2,"text-align","center"]],template:function(e,t){1&e&&(s.TgZ(0,"html"),s.TgZ(1,"head"),s._UZ(2,"meta",0),s.qZA(),s.TgZ(3,"body"),s.TgZ(4,"ul",1),s.TgZ(5,"li"),s.TgZ(6,"a",2),s._uU(7,"User Management"),s.qZA(),s.qZA(),s.TgZ(8,"li"),s.TgZ(9,"a",3),s._uU(10,"Create a new user"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",4),s.TgZ(12,"div",5),s._uU(13," Create a new user "),s.qZA(),s.TgZ(14,"div",6),s.TgZ(15,"form",7),s.NdJ("ngSubmit",function(){return t.submitUserData()}),s.TgZ(16,"div",8),s.TgZ(17,"div",9),s.TgZ(18,"label",10),s._uU(19,"User Name"),s.qZA(),s._UZ(20,"input",11),s._UZ(21,"app-control-messages",12),s.qZA(),s._UZ(22,"div",13),s._UZ(23,"div",13),s.qZA(),s.TgZ(24,"div",8),s.TgZ(25,"div",9),s.TgZ(26,"label",14),s._uU(27,"User Email ID"),s.qZA(),s._UZ(28,"input",15),s._UZ(29,"app-control-messages",12),s.qZA(),s._UZ(30,"div",13),s._UZ(31,"div",13),s.qZA(),s.TgZ(32,"div",8),s.TgZ(33,"div",9),s.TgZ(34,"label",16),s._uU(35,"Select role group for the user"),s.qZA(),s.TgZ(36,"ng-select",17),s.NdJ("change",function(e){return t.applyFilter1(e)}),s.qZA(),s._UZ(37,"app-control-messages",12),s.qZA(),s._UZ(38,"div",13),s._UZ(39,"div",13),s.qZA(),s.TgZ(40,"div",8),s.TgZ(41,"div",18),s.TgZ(42,"button",19),s._uU(43,"Save"),s.qZA(),s.TgZ(44,"button",20),s.NdJ("click",function(){return t.createUserForm.reset()}),s._uU(45,"Discard"),s.qZA(),s.TgZ(46,"button",21),s.NdJ("click",function(){return t.backToPage()}),s._uU(47,"Back"),s.qZA(),s.qZA(),s.TgZ(48,"div",13),s.YNc(49,m,10,0,"ng-container",22),s.YNc(50,g,10,0,"ng-container",22),s.YNc(51,Z,10,0,"ng-container",22),s.YNc(52,h,10,0,"ng-container",22),s.YNc(53,f,10,0,"ng-container",22),s.YNc(54,v,10,0,"ng-container",22),s.qZA(),s._UZ(55,"div",13),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(15),s.Q6J("formGroup",t.createUserForm),s.xp6(6),s.Q6J("control",t.f.userName),s.xp6(8),s.Q6J("control",t.f.userEmailId),s.xp6(7),s.Q6J("searchable",!1)("clearable",!1)("items",t.userGroupData)("bindLabel","roleType")("bindValue","roleType"),s.xp6(1),s.Q6J("control",t.f.userGroup),s.xp6(5),s.Q6J("disabled",t.createUserForm.invalid),s.xp6(7),s.Q6J("ngIf","Product Owner"==t.currentRole),s.xp6(1),s.Q6J("ngIf","Platform Admin"==t.currentRole),s.xp6(1),s.Q6J("ngIf","Product Developer"==t.currentRole),s.xp6(1),s.Q6J("ngIf","Business Entity Admin"==t.currentRole),s.xp6(1),s.Q6J("ngIf","Subscriber"==t.currentRole),s.xp6(1),s.Q6J("ngIf","Platform Developer"==t.currentRole))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.w,p.w9,i.O5],styles:['.box[_ngcontent-%COMP%]{width:355px;height:231px;color:#000;padding:20px;position:relative;margin:40px;border:1px solid #dee2e6;top:-279px;left:41px;background-color:#dee2e6}.box.arrow-left[_ngcontent-%COMP%]:after{content:" ";position:absolute;left:-15px;top:183px;border:15px solid transparent;border-right-color:#dee2e6;border-left:none}.close-icon[_ngcontent-%COMP%]{right:-290px;position:relative;display:block;box-sizing:border-box;width:20px;height:20px;border:3px solid #d37878;border-radius:100%;background:-webkit-linear-gradient(-45deg,transparent,transparent 46%,#fff 0,#fff 56%,transparent 0,transparent),-webkit-linear-gradient(45deg,transparent,transparent 46%,#fff 0,#fff 56%,transparent 0,transparent);background-color:#d37878;box-shadow:0 0 5px 2px rgba(0,0,0,.5);transition:all .3s ease}','ul.breadcrumb[_ngcontent-%COMP%] {\n  padding: 10px 16px;\n  list-style: none;\n  background-color: #eee;\n}\nul.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  display: inline;\n  font-size: 15px;\n}\nul.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before {\n  padding: 8px;\n  color: black;\n  content: "/\\00a0";\n}\nul.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  color: #0275d8;\n  text-decoration: none;\n}\nul.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n  color: #01447e;\n  text-decoration: underline;\n}']}),e})();var A=r(9517);let U=(()=>{class e{constructor(e,t,r,i,o,a,s,n){this.formBuilder=e,this.router=t,this.httpService=r,this.apiService=i,this.stateService=o,this.datePipe=a,this.activatedRoute=s,this.toastr=n,this.buildForm()}ngOnInit(){this.userId=this.activatedRoute.snapshot.paramMap.get("id"),this.commonApiCall(`${this.apiService.apiList.userManagement.list}`,"getMethod",{},"userList",{},!1)}selectRole(e){console.log(e)}userList(e){this.userGroupData=e,this.commonApiCall(`${this.apiService.apiList.userManagement.get}${this.userId}`,"getMethod",{},"userInfo",{},!1)}submitUserData(){let{userName:e,userEmailId:t,userGroup:r}=this.editUserForm.value,i={username:e,userEmailId:t,roleType:r,userid:this.currentUser.userid,roleId:this.currentUser.roleId};console.log(this.editUserForm.value),this.commonApiCall(`${this.apiService.apiList.userManagement.update}`,"putMethod",i,"dataSubmitted",{},!1)}userInfo(e){this.currentUser=e,this.editUserForm.setValue({userName:e.username,userEmailId:e.userEmailId,userGroup:e.roleType,isActive:"1"===e.status?"Y":"N",lastLoginDate:e.lastLoginDate})}get f(){return this.editUserForm.controls}dataSubmitted(e){this.toastr.success("Submitted data save","Success")}buildForm(){this.editUserForm=this.formBuilder.group({userName:["",a.kI.required],userEmailId:["",a.kI.required],userGroup:["",a.kI.required],isActive:["N",a.kI.required],lastLoginDate:["",a.kI.required]})}commonApiCall(e,t,r,i,o,a=!1){this.stateService.addCalledApi(e),this.httpService[t](e,a,r).subscribe(e=>{this[i](e,o)},t=>{var r;(null===(r=t.error)||void 0===r?void 0:r.error)&&"string"==typeof t.error.error&&this.toastr.error("err.error.error","Error"),this.stateService.removeCalledApi(e)},()=>{this.stateService.removeCalledApi(e)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.qu),s.Y36(o.F0),s.Y36(n.O),s.Y36(l.s),s.Y36(c.b),s.Y36(i.uU),s.Y36(o.gz),s.Y36(u._W))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-edit-user-management"]],decls:76,vars:15,consts:[[1,"card","p-4"],[1,"card-header"],[1,"card-body"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-4"],["for","userName",1,"form-label-16"],["type","text","id","userName","placeholder","User Name","formControlName","userName",1,"form-control",2,"background","white"],[3,"control"],[1,"col-md-4"],["for","userEmailId",1,"form-label-16"],["type","text","id","userEmailId","placeholder","User Email ID","formControlName","userEmailId",1,"form-control",2,"background","white"],["for","userGroup",1,"form-label-16"],["labelForId","userGroup","formControlName","userGroup",3,"searchable","clearable","items","bindLabel","bindValue","change"],[1,"col-md-2"],[1,"col-md-2","text-right"],["ngbRadioGroup","","name","radioBasic","formControlName","isActive",1,"btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn-primary"],["ngbButton","","type","radio","value","Y"],["ngbButton","","type","radio","value","N"],["for","lastLoginDate",1,"form-label-16"],["type","text","id","lastLoginDate","placeholder","Last Login Date","formControlName","lastLoginDate",1,"form-control"],[1,"ml-2"],["href","javascript:void(0)"],[1,"form-row","mt-2"],[1,"col-md-5"],[1,"col-md-3"],[1,"form-row","mt-4"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-primary","ml-4",3,"disabled"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2," Edit User "),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return t.submitUserData()}),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"label",6),s._uU(8,"User Name"),s.qZA(),s._UZ(9,"input",7),s._UZ(10,"app-control-messages",8),s.qZA(),s._UZ(11,"div",9),s._UZ(12,"div",9),s.qZA(),s.TgZ(13,"div",4),s.TgZ(14,"div",5),s.TgZ(15,"label",10),s._uU(16,"User Email ID"),s.qZA(),s._UZ(17,"input",11),s._UZ(18,"app-control-messages",8),s.qZA(),s._UZ(19,"div",9),s._UZ(20,"div",9),s.qZA(),s.TgZ(21,"div",4),s.TgZ(22,"div",5),s.TgZ(23,"label",12),s._uU(24,"Select role group for the user"),s.qZA(),s.TgZ(25,"ng-select",13),s.NdJ("change",function(e){return t.selectRole(e)}),s.qZA(),s._UZ(26,"app-control-messages",8),s.qZA(),s._UZ(27,"div",9),s._UZ(28,"div",9),s.qZA(),s.TgZ(29,"div",4),s.TgZ(30,"div",14),s._uU(31," Is the User active?* "),s.qZA(),s.TgZ(32,"div",15),s.TgZ(33,"div",16),s.TgZ(34,"label",17),s._UZ(35,"input",18),s._uU(36,"Yes "),s.qZA(),s.TgZ(37,"label",17),s._UZ(38,"input",19),s._uU(39," No "),s.qZA(),s.qZA(),s.qZA(),s._UZ(40,"div",9),s._UZ(41,"div",9),s.qZA(),s.TgZ(42,"div",4),s.TgZ(43,"div",5),s.TgZ(44,"label",20),s._uU(45,"Last Login Date"),s.qZA(),s._UZ(46,"input",21),s._UZ(47,"app-control-messages",8),s.qZA(),s._UZ(48,"div",9),s._UZ(49,"div",9),s.qZA(),s.TgZ(50,"div",4),s.TgZ(51,"div",9),s.TgZ(52,"span"),s._uU(53,"Do you want to reset Password for the user?"),s.qZA(),s.TgZ(54,"span",22),s.TgZ(55,"a",23),s._uU(56,"Reset Password"),s.qZA(),s.qZA(),s.qZA(),s._UZ(57,"div",9),s._UZ(58,"div",9),s.qZA(),s.TgZ(59,"div",24),s.TgZ(60,"div",25),s.TgZ(61,"span"),s._uU(62,"Do you want to Resend invitation for the user?"),s.qZA(),s.TgZ(63,"span",22),s.TgZ(64,"a",23),s._uU(65,"Resend Invitation"),s.qZA(),s.qZA(),s.qZA(),s._UZ(66,"div",26),s._UZ(67,"div",9),s.qZA(),s.TgZ(68,"div",27),s.TgZ(69,"div",5),s.TgZ(70,"button",28),s.NdJ("click",function(){return t.editUserForm.reset()}),s._uU(71,"Discard"),s.qZA(),s.TgZ(72,"button",29),s._uU(73,"Save"),s.qZA(),s.qZA(),s._UZ(74,"div",9),s._UZ(75,"div",9),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Q6J("formGroup",t.editUserForm),s.xp6(6),s.Q6J("control",t.f.userName),s.xp6(8),s.Q6J("control",t.f.userEmailId),s.xp6(7),s.Q6J("searchable",!1)("clearable",!1)("items",t.userGroupData)("bindLabel","roleType")("bindValue","roleType"),s.xp6(1),s.Q6J("control",t.f.userGroup),s.xp6(8),s.ekj("radio-active","Y"!==t.editUserForm.value.isActive),s.xp6(3),s.ekj("radio-active","N"!==t.editUserForm.value.isActive),s.xp6(10),s.Q6J("control",t.f.lastLoginDate),s.xp6(25),s.Q6J("disabled",t.editUserForm.invalid))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.w,p.w9,A.py,A.mL,A.aB],styles:[".radio-active[_ngcontent-%COMP%]{background:#f8fcfded;color:#000;border:1px solid #f8fcfded}"]}),e})();var T=r(2091);function q(e,t){1&e&&(s.TgZ(0,"th",21),s._uU(1,"Product"),s.qZA())}function _(e,t){if(1&e&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.product," ")}}function x(e,t){1&e&&(s.TgZ(0,"th",21),s._uU(1," Service name "),s.qZA())}function y(e,t){if(1&e&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.serviceName," ")}}function w(e,t){1&e&&(s.TgZ(0,"th",21),s._uU(1," User Type "),s.qZA())}function k(e,t){if(1&e&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.uerType," ")}}function C(e,t){1&e&&s._UZ(0,"tr",23)}function N(e,t){1&e&&s._UZ(0,"tr",24)}function S(e,t){if(1&e&&(s.TgZ(0,"table",13),s.ynx(1,14),s.YNc(2,q,2,0,"th",15),s.YNc(3,_,2,1,"td",16),s.BQk(),s.ynx(4,17),s.YNc(5,x,2,0,"th",15),s.YNc(6,y,2,1,"td",16),s.BQk(),s.ynx(7,18),s.YNc(8,w,2,0,"th",15),s.YNc(9,k,2,1,"td",16),s.BQk(),s.YNc(10,C,1,0,"tr",19),s.YNc(11,N,1,0,"tr",20),s.qZA()),2&e){const e=s.oxw();s.Q6J("dataSource",e.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns)}}let D=(()=>{class e{constructor(e,t,r,i,o){this.httpService=e,this.apiService=t,this.stateService=r,this.datePipe=i,this.activatedRoute=o,this.displayedColumns=["product","serviceName","userType"],this.dataSource=[{product:"Qpay",serviceName:"Employee information",userType:"Platform developer"},{product:"Qpay",serviceName:"Employee information",userType:"Platform developer"},{product:"Qpay",serviceName:"Employee information",userType:"Platform developer"}],this.statusColors={Active:"background: #44CC3B 0% 0% no-repeat padding-box;",InActive:"background: #FF4B3A 0% 0% no-repeat padding-box;",Pending:"background: #FDAF00 0% 0% no-repeat padding-box;","On Hold":"background: #FDAF00 0% 0% no-repeat padding-box;"},this.userStatus={1:"Active",0:"InActive"}}ngOnInit(){this.userId=this.activatedRoute.snapshot.paramMap.get("id"),this.commonApiCall(`${this.apiService.apiList.userManagement.get}${this.userId}`,"getMethod",{},"userInfo",{},!1)}userInfo(e){this.currentUser=e}commonApiCall(e,t,r,i,o,a=!1){this.stateService.addCalledApi(e),this.httpService[t](e,a,r).subscribe(e=>{this[i](e,o)},t=>{var r;(null===(r=t.error)||void 0===r?void 0:r.error)&&"string"==typeof t.error.error&&this.stateService.showMessage({type:"message",message:[t.error.error]}),this.stateService.removeCalledApi(e)},()=>{this.stateService.removeCalledApi(e)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.O),s.Y36(l.s),s.Y36(c.b),s.Y36(i.uU),s.Y36(o.gz))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-user-info"]],decls:26,vars:6,consts:[[1,"p-4","component-wrapper"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-2","d-flex-justify-items-center"],["src","/assets/images/flat-user-icon-png-3@2x.png","alt",""],[1,"col-md-6","d-flex","flex-column"],[1,"mt-2"],[1,"ml-2"],[1,"d-inline-block","mr-2",2,"width","10px","height","10px","border-radius","50%"],[1,"col-md-4","d-flex","justify-content-end"],["src","/assets/images/edit_icon.svg","alt","expand icon",1,"expand_icon"],["mat-table","","class","mt-4",3,"dataSource",4,"ngIf"],["mat-table","",1,"mt-4",3,"dataSource"],["matColumnDef","product"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","serviceName"],["matColumnDef","userType"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s._UZ(5,"img",5),s.qZA(),s.TgZ(6,"div",6),s.TgZ(7,"div"),s._uU(8),s.qZA(),s.TgZ(9,"div",7),s.TgZ(10,"span"),s._uU(11,"Email ID :"),s.qZA(),s.TgZ(12,"span",8),s._uU(13),s.qZA(),s.qZA(),s.TgZ(14,"div",7),s.TgZ(15,"span"),s._uU(16,"Status :"),s.qZA(),s.TgZ(17,"span",8),s._UZ(18,"span",9),s.TgZ(19,"span"),s._uU(20),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(21,"div",10),s.TgZ(22,"span"),s._UZ(23,"img",11),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"div",7),s.YNc(25,S,12,3,"table",12),s.qZA(),s.qZA()),2&e&&(s.xp6(8),s.Oqu(t.currentUser.username),s.xp6(5),s.Oqu(t.currentUser.userEmailId),s.xp6(5),s.Akn(t.statusColors[t.userStatus[t.currentUser.status]]),s.xp6(2),s.hij("",t.userStatus[t.currentUser.status]," "),s.xp6(5),s.Q6J("ngIf",t.dataSource.length>0))},directives:[i.O5,T.BZ,T.w1,T.fO,T.Dz,T.as,T.nj,T.ge,T.ev,T.XQ,T.Gk],styles:[""]}),e})();function I(e,t){1&e&&(s.TgZ(0,"th",30),s._uU(1,"Name"),s.qZA())}function Y(e,t){if(1&e&&(s.TgZ(0,"td",31),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.username," ")}}function F(e,t){1&e&&(s.TgZ(0,"th",30),s._uU(1," Type "),s.qZA())}function J(e,t){if(1&e&&(s.TgZ(0,"td",31),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.type," ")}}function M(e,t){1&e&&(s.TgZ(0,"th",30),s._uU(1," Product "),s.qZA())}function P(e,t){if(1&e&&(s.TgZ(0,"td",31),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.product," ")}}function Q(e,t){1&e&&(s.TgZ(0,"th",30),s._uU(1," Created date "),s.qZA())}function B(e,t){if(1&e&&(s.TgZ(0,"td",31),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.createdTimestamp," ")}}function L(e,t){1&e&&(s.TgZ(0,"th",30),s._uU(1," Last Login date "),s.qZA())}function E(e,t){if(1&e&&(s.TgZ(0,"td",31),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.lastLoginDate," ")}}function O(e,t){1&e&&(s.TgZ(0,"th",30),s._uU(1," Status"),s.qZA())}function R(e,t){if(1&e&&(s.ynx(0),s._UZ(1,"span",33),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&e){const e=s.oxw().$implicit,t=s.oxw(2);s.xp6(1),s.Akn(t.statusColors[t.getStatus(e)]),s.xp6(2),s.hij("",t.getStatus(e)," ")}}function G(e,t){if(1&e&&(s.TgZ(0,"td",31),s.YNc(1,R,4,3,"ng-container",32),s.qZA()),2&e){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.statusItems)}}function $(e,t){1&e&&(s.TgZ(0,"th",30),s._uU(1," Action"),s.qZA())}function j(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"td",31),s.TgZ(1,"span"),s.TgZ(2,"img",34),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).editUser(t)}),s.qZA(),s.qZA(),s.TgZ(3,"span"),s.TgZ(4,"img",35),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).editUser(t)}),s.qZA(),s.qZA(),s.qZA()}}function H(e,t){1&e&&s._UZ(0,"tr",36)}function z(e,t){1&e&&s._UZ(0,"tr",37)}function X(e,t){if(1&e&&(s.TgZ(0,"table",18),s.ynx(1,19),s.YNc(2,I,2,0,"th",20),s.YNc(3,Y,2,1,"td",21),s.BQk(),s.ynx(4,22),s.YNc(5,F,2,0,"th",20),s.YNc(6,J,2,1,"td",21),s.BQk(),s.ynx(7,23),s.YNc(8,M,2,0,"th",20),s.YNc(9,P,2,1,"td",21),s.BQk(),s.ynx(10,24),s.YNc(11,Q,2,0,"th",20),s.YNc(12,B,2,1,"td",21),s.BQk(),s.ynx(13,25),s.YNc(14,L,2,0,"th",20),s.YNc(15,E,2,1,"td",21),s.BQk(),s.ynx(16,26),s.YNc(17,O,2,0,"th",20),s.YNc(18,G,2,1,"td",21),s.BQk(),s.ynx(19,27),s.YNc(20,$,2,0,"th",20),s.YNc(21,j,5,0,"td",21),s.BQk(),s.YNc(22,H,1,0,"tr",28),s.YNc(23,z,1,0,"tr",29),s.qZA()),2&e){const e=s.oxw();s.Q6J("dataSource",e.dataSource),s.xp6(22),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns)}}let V=(()=>{class e{constructor(e,t,r,i,o){this.router=e,this.httpService=t,this.apiService=r,this.stateService=i,this.datePipe=o,this.status=["Active","Inactive"],this.types=[{label:"Platform Developer"},{label:"Business Entity Admin"},{label:"Product Developer"},{label:"Product Owner"},{label:"Subcriber"}],this.statusColors={Active:"background: #44CC3B 0% 0% no-repeat padding-box;",InActive:"background: #FF4B3A 0% 0% no-repeat padding-box;"},this.displayedColumns=["username","type","product","createdTimestamp","lastLoginDate","status","action"],this.form_model=new a.cw({Active:new a.NI,Inactive:new a.NI}),this.products=[],this.products1=[]}ngOnInit(){this.commonApiCall(`${this.apiService.apiList.userManagement.list}`,"getMethod",{},"listUser",{},!1),this.commonApiCall(`${this.apiService.apiList.productManagement.list}`,"getMethod",{},"listProduct",{},!1)}createUser(){this.router.navigate(["/content/home/user-management/create"])}editUser(e){this.router.navigate([`/content/home/user-management/edit/${e.userid}`])}listUser(e){e=e.map(e=>{let t=new Date(e.createdTimestamp);return e.createdTimestamp=this.datePipe.transform(t,"mediumDate"),e}),this.dataSource=new T.by(e),this.dataSource.filterPredicate=(e,t)=>{const r=[];return JSON.parse(t).forEach(t=>{r.push((null===e[t.id]?"":e[t.id]).toLowerCase().includes(t.value.toLowerCase()))}),r.every(Boolean)},console.log(this.dataSource),this.commonApiCall(`${this.apiService.apiList.serviceManagement.statusList}`,"getMethod",{},"statusList",{},!1)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}applyFilter1(e){this.checkBoxFilter=this.form_model.value,this.checkBoxFilter=e,console.log(this.checkBoxFilter),console.log(e);const t=[];1!=this.checkBoxFilter.Active||1!=this.checkBoxFilter.Inactive?("Active"==this.checkBoxFilter&&(this.status1="1"),"Inactive"==this.checkBoxFilter&&(this.status1="0"),t.push({id:"status",value:this.status1}),this.dataSource.filter=JSON.stringify(t)):this.dataSource.filter=""}getStatus(e){return e.status?this.statusItems.find(t=>t.statusCode==e.status).statusName:""}statusList(e){console.log(e),this.statusItems=e}commonApiCall(e,t,r,i,o,a=!1){this.stateService.addCalledApi(e),this.httpService[t](e,a,r).subscribe(e=>{this[i](e,o)},t=>{var r;(null===(r=t.error)||void 0===r?void 0:r.error)&&"string"==typeof t.error.error&&this.stateService.showMessage({type:"message",message:[t.error.error]}),this.stateService.removeCalledApi(e)},()=>{this.stateService.removeCalledApi(e)})}listProduct(e){e=e.map(e=>(e.createdTimestamp=this.datePipe.transform(e.createdTimestamp,"mediumDate"),console.log(e.productName),this.products1.push(e.productName),console.log(this.products1),e)),console.log("after",this.products),this.products=this.products1}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(n.O),s.Y36(l.s),s.Y36(c.b),s.Y36(i.uU))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-view-user-management"]],decls:27,vars:7,consts:[[1,"component-wrapper","pl-4","pr-4"],[1,"mt-3"],[1,"page-heading","d-flex"],["src","/assets/images/help_outline_black_24dp.svg","alt","help outline icon"],[1,"btn","btn-primary","ml-auto",3,"click"],["src","/assets/images/add_icon.svg","alt",""],[1,"search-bar","mt-17","row"],[1,"form-group","has-search","col-4","d-flex"],[1,"form-control-search-icon"],["src","/assets/images/search_black_24dp.svg","alt","search icons"],["type","text","placeholder","search",1,"form-control",3,"keyup"],[1,"mt-2"],[1,"form-group","col-md-2",2,"top","-30px"],["for","serviceType",1,"form-label-16"],[3,"items"],[3,"formGroup"],["labelForId","serviceType","bindLable","label","bindValue","value","formControlName","status",3,"searchable","clearable","items","ngModel","change"],["mat-table","","class","mt-4",3,"dataSource",4,"ngIf"],["mat-table","",1,"mt-4",3,"dataSource"],["matColumnDef","username"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","product"],["matColumnDef","createdTimestamp"],["matColumnDef","lastLoginDate"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[1,"d-inline-block","mr-2",2,"width","10px","height","10px","border-radius","50%"],["src","/assets/images/view_icon.svg","alt","view icon",1,"expand_icon",3,"click"],["src","/assets/images/edit_icon.svg","alt","expand icon",1,"expand_icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div"),s._uU(4,"User Management"),s.qZA(),s.TgZ(5,"span"),s._UZ(6,"img",3),s.qZA(),s.TgZ(7,"button",4),s.NdJ("click",function(){return t.createUser()}),s._UZ(8,"img",5),s._uU(9,"Create User"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",6),s.TgZ(11,"div",7),s.TgZ(12,"span",8),s._UZ(13,"img",9),s.qZA(),s.TgZ(14,"input",10),s.NdJ("keyup",function(e){return t.applyFilter(e)}),s.qZA(),s.qZA(),s.TgZ(15,"span",11),s._uU(16,"Filters"),s.qZA(),s.TgZ(17,"div",12),s.TgZ(18,"label",13),s._uU(19,"Product"),s.qZA(),s._UZ(20,"ng-select",14),s.qZA(),s.TgZ(21,"div",12),s.TgZ(22,"form",15),s.TgZ(23,"label",13),s._uU(24,"Status"),s.qZA(),s.TgZ(25,"ng-select",16),s.NdJ("change",function(e){return t.applyFilter1(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(26,X,24,3,"table",17),s.qZA()),2&e&&(s.xp6(20),s.Q6J("items",t.products),s.xp6(2),s.Q6J("formGroup",t.form_model),s.xp6(3),s.Q6J("searchable",!1)("clearable",!1)("items",t.status)("ngModel",t.status),s.xp6(1),s.Q6J("ngIf",t.dataSource.data.length>0))},directives:[p.w9,a._Y,a.JL,a.sg,a.JJ,a.u,i.O5,T.BZ,T.w1,T.fO,T.Dz,T.as,T.nj,T.ge,T.ev,T.XQ,T.Gk],styles:[""]}),e})();const W=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-user-management"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"app-view-user-management")},directives:[V],styles:[""]}),e})()},{path:"edit/:id",component:U},{path:"create",component:b},{path:"user",component:D}];let K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.Bz.forChild(W)],o.Bz]}),e})();var ee=r(105);let te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,ee.m8,K]]}),e})()}}]);