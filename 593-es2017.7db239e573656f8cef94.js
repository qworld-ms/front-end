(self.webpackChunkquess_microservice=self.webpackChunkquess_microservice||[]).push([[593],{9457:function(e,t){var i,a;void 0===(a="function"==typeof(i=function(){"use strict";function t(e,t,i){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){o(a.response,t,i)},a.onerror=function(){console.error("could not download file")},a.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,n=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(e,n,o){var r=s.URL||s.webkitURL,l=document.createElement("a");l.download=n=n||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?a(l):i(l.href)?t(e,n,o):a(l,l.target="_blank")):(l.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(l.href)},4e4),setTimeout(function(){a(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,s,n){if(s=s||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,n),s);else if(i(e))t(e,s,n);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){a(o)})}}:function(e,i,a,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,i,a);var r="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&l||n)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},d.readAsDataURL(e)}else{var u=s.URL||s.webkitURL,p=u.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});s.saveAs=o.saveAs=o,e.exports=o})?i.apply(t,[]):i)||(e.exports=a)},6593:function(e,t,i){"use strict";i.r(t),i.d(t,{PerformanceServicesModule:function(){return ae}});var a=i(8583),s=i(105),n=i(4655),o=i(3679),r=i(4026),l=i(9457),c=i(7716),d=i(6643),u=i(7929),p=i(9966),m=i(9517),g=i(6640),v=i(8295),Z=i(9983),h=i(3220);function f(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"button",22),c.NdJ("click",function(){const t=c.CHM(e).$implicit;return c.oxw(2).selectActiveSubServiceStatus(t)}),c._uU(2),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.apiName)}}function b(e,t){if(1&e&&(c.ynx(0),c._UZ(1,"span",23),c.TgZ(2,"span",24),c._uU(3),c.qZA(),c.BQk()),2&e){const e=c.oxw(2);c.xp6(1),c.Akn(e.statusColors[e.getStatus(e.serviceDetails)]),c.xp6(2),c.hij("",e.getStatus(e.serviceDetails)," ")}}function A(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",32),c.TgZ(1,"p",33),c._uU(2,"Total Subscribers: "),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.qZA(),c.TgZ(5,"div",34),c.TgZ(6,"label",35),c._uU(7,"Select Subscribers"),c.qZA(),c.TgZ(8,"div",36),c.TgZ(9,"div",37),c.TgZ(10,"ng-select",38),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(3).selectedSubscriber=t}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",39),c.TgZ(12,"div",8),c.TgZ(13,"div",34),c.TgZ(14,"label",35),c._uU(15,"From"),c.qZA(),c.TgZ(16,"div",36),c.TgZ(17,"mat-form-field",40),c._UZ(18,"input",41),c._UZ(19,"mat-datepicker-toggle",42),c._UZ(20,"mat-datepicker",null,43),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"div",34),c.TgZ(23,"label",35),c._uU(24,"To"),c.qZA(),c.TgZ(25,"div",36),c.TgZ(26,"mat-form-field",40),c._UZ(27,"input",41),c._UZ(28,"mat-datepicker-toggle",42),c._UZ(29,"mat-datepicker",null,44),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"div",8),c.TgZ(32,"div",34),c._UZ(33,"label",35),c.TgZ(34,"button",45),c.NdJ("click",function(){return c.CHM(e),c.oxw(3).downloadLogs()}),c._uU(35,"Download Logs"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(36,"div",46),c._uU(37,"Weekly Status"),c.qZA(),c.TgZ(38,"div",47),c.TgZ(39,"div",48),c.TgZ(40,"div",49),c._uU(41,"No. of Hits"),c.qZA(),c.TgZ(42,"div",50),c._uU(43),c.qZA(),c.qZA(),c.TgZ(44,"div",48),c.TgZ(45,"div",49),c._uU(46,"No. of Success"),c.qZA(),c.TgZ(47,"div",50),c._uU(48),c.qZA(),c.qZA(),c.TgZ(49,"div",48),c.TgZ(50,"div",49),c._uU(51,"No. of Fail"),c.qZA(),c.TgZ(52,"div",50),c._uU(53),c.qZA(),c.qZA(),c.qZA(),c.TgZ(54,"div",51),c._UZ(55,"ngx-charts-line-chart",52),c.qZA(),c.qZA()}if(2&e){const e=c.MAs(21),t=c.MAs(30),i=c.oxw(3);c.xp6(4),c.Oqu(i.serviceDetails.subscribers),c.xp6(6),c.Q6J("items",i.selectSubscribers)("bindValue","subscriberId")("bindLabel","userName")("clearable",!1)("ngModel",i.selectedSubscriber),c.xp6(8),c.Q6J("matDatepicker",e)("formControl",i.fromDate),c.xp6(1),c.Q6J("for",e),c.xp6(8),c.Q6J("matDatepicker",t)("formControl",i.toDate),c.xp6(1),c.Q6J("for",t),c.xp6(15),c.Oqu(i.totalHit),c.xp6(5),c.Oqu(i.sucessHit),c.xp6(5),c.Oqu(i.failureHit),c.xp6(2),c.Q6J("legend",!0)("results",i.chartData)("view",i.view)("xAxis",!0)("yAxis",!0)("scheme",i.colorScheme)("showGridLines",!1)}}function x(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",32),c.TgZ(1,"div",39),c.TgZ(2,"div",53),c.TgZ(3,"div",54),c.TgZ(4,"label",35),c._uU(5,"Select Subscribers"),c.qZA(),c.TgZ(6,"div",36),c.TgZ(7,"div",55),c.TgZ(8,"ng-select",38),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(3).selectedSubscriber=t}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",56),c.TgZ(10,"label",35),c._uU(11,"To"),c.qZA(),c.TgZ(12,"div",36),c.TgZ(13,"mat-form-field",57),c._UZ(14,"input",41),c._UZ(15,"mat-datepicker-toggle",42),c._UZ(16,"mat-datepicker",null,44),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",8),c.TgZ(19,"div",34),c._UZ(20,"label",35),c.TgZ(21,"button",58),c._uU(22,"Download Logs"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",46),c._uU(24,"API logs"),c.qZA(),c.TgZ(25,"div",59),c._uU(26),c.qZA(),c.qZA()}if(2&e){const e=c.MAs(17),t=c.oxw(3);c.xp6(8),c.Q6J("items",t.selectSubscribers)("bindValue","subscriberId")("bindLabel","userName")("clearable",!1)("ngModel",t.selectedSubscriber),c.xp6(6),c.Q6J("matDatepicker",e)("formControl",t.toDate),c.xp6(1),c.Q6J("for",e),c.xp6(11),c.hij(" ",t.serviceDetails.apiOutput," ")}}function T(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",25),c.TgZ(1,"ul",26,27),c.NdJ("activeIdChange",function(t){return c.CHM(e),c.oxw(2).active=t}),c.TgZ(3,"li",28),c.TgZ(4,"a",29),c._uU(5,"Summary"),c.qZA(),c.YNc(6,A,56,22,"ng-template",30),c.qZA(),c.TgZ(7,"li",28),c.TgZ(8,"a",29),c._uU(9,"Detailed Information"),c.qZA(),c.YNc(10,x,27,9,"ng-template",30),c.qZA(),c.qZA(),c._UZ(11,"div",31),c.qZA()}if(2&e){const e=c.MAs(2),t=c.oxw(2);c.xp6(1),c.Q6J("activeId",t.active),c.xp6(2),c.Q6J("ngbNavItem",1),c.xp6(4),c.Q6J("ngbNavItem",2),c.xp6(4),c.Q6J("ngbNavOutlet",e)}}function w(e,t){if(1&e&&(c.TgZ(0,"div",4),c.TgZ(1,"div",5),c.TgZ(2,"div",6),c.TgZ(3,"div",7),c.TgZ(4,"div",8),c.TgZ(5,"div",9),c.TgZ(6,"span",10),c._uU(7,"Service group :"),c.qZA(),c.TgZ(8,"span",11),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"div",9),c.TgZ(11,"span",10),c._uU(12,"BE Name :"),c.qZA(),c.TgZ(13,"span",12),c._uU(14),c.qZA(),c.qZA(),c.TgZ(15,"div",9),c.TgZ(16,"span",10),c._uU(17,"# services :"),c.qZA(),c.TgZ(18,"span",12),c._uU(19),c.qZA(),c.qZA(),c.TgZ(20,"div",9),c.TgZ(21,"span",10),c._uU(22,"Created Date :"),c.qZA(),c.TgZ(23,"span",12),c._uU(24),c.ALo(25,"date"),c.qZA(),c.qZA(),c.TgZ(26,"div",9),c.TgZ(27,"span",10),c._uU(28,"Product :"),c.qZA(),c.TgZ(29,"span",12),c._uU(30),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"div",6),c.TgZ(32,"div",13),c.TgZ(33,"div",8),c.TgZ(34,"div",14),c.TgZ(35,"span",10),c._uU(36," Select Service :"),c.qZA(),c.TgZ(37,"div",15),c.TgZ(38,"div",16),c.TgZ(39,"button",17),c._uU(40),c.qZA(),c.TgZ(41,"div",18),c.YNc(42,f,3,1,"div",19),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(43,"div",14),c.TgZ(44,"span",10),c._uU(45,"Status :"),c.qZA(),c.YNc(46,b,4,3,"ng-container",20),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(47,T,12,4,"div",21),c.qZA()),2&e){const e=c.oxw();c.xp6(9),c.Oqu(e.serviceDetails.serviceName),c.xp6(5),c.Oqu(e.serviceDetails.businessName),c.xp6(5),c.Oqu(e.serviceDetails.services),c.xp6(5),c.Oqu(c.xi3(25,9,e.serviceDetails.createdTimestamp,"mediumDate")),c.xp6(6),c.Oqu(e.serviceDetails.productName),c.xp6(10),c.Oqu(e.activeSubServiceStatus),c.xp6(2),c.Q6J("ngForOf",e.serviceData),c.xp6(4),c.Q6J("ngIf",e.statusItems),c.xp6(1),c.Q6J("ngIf",e.serviceDetails)}}let q=(()=>{class e{constructor(e,t,i,a,s){this.router=e,this.activatedRoute=t,this.httpService=i,this.apiService=a,this.stateService=s,this.breadcrumbList=[{label:"Performance Services"},{label:"View Logs of service"}],this.titleWithBack={title:"View Logs of Service"},this.active=1,this.selectSubscribers=[{id:1,value:"",label:"Dummmy 1"},{id:2,value:"",label:"Dummy 2"}],this.monthList=[{id:1,value:"",label:"September"},{id:2,value:"",label:"October"}],this.yearList=[{id:1,value:"",label:"2020"},{id:2,value:"",label:"2021"}],this.statusColors={Active:"background: #44CC3B 0% 0% no-repeat padding-box;",InActive:"background: #FF4B3A 0% 0% no-repeat padding-box;",Pending:"background: #FDAF00 0% 0% no-repeat padding-box;","On Hold":"background: #FDAF00 0% 0% no-repeat padding-box;"},this.activeSubServiceStatus="Attendance Input",this.serviceDetailsId=null,this.serviceId=null,this.fromDate=new o.NI(new Date),this.toDate=new o.NI(new Date),this.colorScheme={domain:["#FFE700","#A0EF89","#FF0000"],name:"nightLights",selectable:!0,group:r.N3.Ordinal},this.view=[800,313],this.chartData=[{name:"No. of Hits",series:[{name:"Aug",value:14},{name:"Sep",value:35},{name:"Oct",value:4},{name:"Nov",value:17},{name:"Dec",value:14},{name:"Jan",value:35}]},{name:"No. of Success",series:[{name:"Aug",value:364},{name:"Sep",value:412},{name:"Oct",value:437},{name:"Nov",value:437},{name:"Dec",value:364},{name:"Jan",value:412}]},{name:"No. of Fail",series:[{name:"Aug",value:168},{name:"Sep",value:343},{name:"Oct",value:512},{name:"Nov",value:291},{name:"Dec",value:168},{name:"Jan",value:343}]}]}ngOnInit(){this.status=this.activatedRoute.snapshot.queryParamMap.get("status"),this.serviceId=this.activatedRoute.snapshot.queryParamMap.get("serviceId"),this.serviceDetailsId=this.activatedRoute.snapshot.paramMap.get("id"),this.mainHeading="View Logs of Service",this.titleWithBack={title:this.mainHeading},this.breadcrumbList=[{label:"Service Management"},{label:this.mainHeading}],this.commonApiCall(`${this.apiService.apiList.serviceManagement.servicesDetails}/${this.serviceDetailsId}`,"getMethod",{},"getDetails",{},!1),this.commonApiCall(`${this.apiService.apiList.serviceManagement.subscribers}?serviceId=${this.serviceId}&serviceDetailsId=${this.serviceDetailsId}`,"getMethod",{},"getSubscribers",{},!1)}getSubscribers(e){this.selectSubscribers=e,this.selectedSubscriber=e[0].subscriberId;let t=new Date(this.fromDate.value),i=(t.getFullYear(),t.getMonth(),t.getDay(),new Date(this.toDate.value)),a=(i.getFullYear(),i.getMonth(),i.getDay(),this.getAppliedFilter());this.commonApiCall(`${this.apiService.apiList.serviceManagement.hitDetails}`,"postMethod",a,"hitDetails",{},!1),this.commonApiCall(`${this.apiService.apiList.serviceManagement.dateDetails}`,"postMethod",a,"getChartData",{},!1)}getAppliedFilter(){let e=new Date(this.fromDate.value),t=(e.getFullYear(),e.getMonth(),e.getDay(),new Date(this.toDate.value));return t.getFullYear(),t.getMonth(),t.getDay(),{serviceId:this.serviceId,serviceDetailsId:this.serviceDetailsId,subscriberId:this.selectedSubscriber,fromDate:"2021-10-04",toDate:"2021-10-20"}}downloadFile(e){var t=new Blob([e],{type:"text/csv"});(0,l.saveAs)(t,"logs.csv")}downloadLogs(){let e=this.getAppliedFilter(),t=Object.keys(e).map(t=>`${t}=${e[t]}`).join("&");this.commonApiCall(`${this.apiService.apiList.serviceManagement.downloadAPIlogs}?${t}`,"download",t,"downloadFile",{},!1)}getChartData(e){this.chartData=e}hitDetails(e){this.sucessHit=e.sucessHit,this.failureHit=e.failureHit,this.totalHit=e.totalHit}getStatus(e){return this.statusItems.find(t=>t.statusCode==e.apiStatus).statusName}serviceList(e){this.serviceData=e,this.copyServiceData=JSON.parse(JSON.stringify(this.serviceData)),this.activeSubServiceStatus=this.serviceData.find(e=>e.apiName===this.serviceDetails.apiName).apiName,this.serviceData=this.serviceData.filter(e=>e.apiName!==this.serviceDetails.apiName)}selectActiveSubServiceStatus(e){this.activeSubServiceStatus=e.apiName,this.serviceData=JSON.parse(JSON.stringify(this.copyServiceData)),this.serviceDetails=this.copyServiceData.find(t=>t.apiName===e.apiName),this.serviceData=this.serviceData.filter(t=>t.apiName!==e.apiName)}statusList(e){console.log(e),this.statusItems=e}getDetails(e){console.log(e),this.serviceDetails=e,this.commonApiCall(`${this.apiService.apiList.serviceManagement.statusList}`,"getMethod",{},"statusList",{},!1),this.commonApiCall(`${this.apiService.apiList.serviceManagement.services}/${this.serviceId}`,"getMethod",{},"serviceList",{},!1)}commonApiCall(e,t,i,a,s,n=!1){this.stateService.addCalledApi(e),this.httpService[t](e,n,i).subscribe(e=>{this[a](e,s)},t=>{var i;(null===(i=t.error)||void 0===i?void 0:i.error)&&"string"==typeof t.error.error&&this.stateService.showMessage({type:"message",message:[t.error.error]}),this.stateService.removeCalledApi(e)},()=>{this.stateService.removeCalledApi(e)})}navigateBack(){this.router.navigate(["content/home/performance-services"])}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(n.F0),c.Y36(n.gz),c.Y36(d.O),c.Y36(u.s),c.Y36(p.b))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-view-logs-service"]],decls:7,vars:1,consts:[[1,"mt-2","pl-4","ml-4","font-medium-12"],[1,"cursor-pointer",3,"click"],[1,"text-primary"],["class","view-component-wrapper pl-4 pr-4",4,"ngIf"],[1,"view-component-wrapper","pl-4","pr-4"],[1,"view-component","mt-23"],[1,"row"],[1,"col"],[1,"d-flex","justify-content-between"],[1,"mt-26"],[1,"font-semi-bold-16"],[1,"font-medium-16","ml-13"],[1,"d-inline-block","font-medium-16","ml-13"],[1,"col-7"],[1,"mt-4"],[1,"font-light-14","ml-13","d-inline-block"],["ngbDropdown","","role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-primary"],["ngbDropdownMenu","",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","detail-info mt-4 mb-4",4,"ngIf"],["ngbDropdownItem","",3,"click"],[1,"d-inline-block","ml-2",2,"width","10px","height","10px","border-radius","50%"],[1,"ml-2"],[1,"detail-info","mt-4","mb-4"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"summary-section"],[1,"summary-total"],[1,"d-flex","flex-column"],[1,"summary-label"],[1,"d-inline-block","font-light-14"],[1,"col-4","p-0"],[3,"items","bindValue","bindLabel","clearable","ngModel","ngModelChange"],[1,"mt-4","d-flex","justify-content-between","align-items-end"],[1,"summary-datepicker","summary-dropdown"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["fromPicker",""],["toPicker",""],[1,"summary-button",3,"click"],[1,"font-16-header","mt-4"],[1,"d-flex","justify-content-between","mt-4","col-8","p-0"],[1,"card","d-flex","flex-column"],[1,"font-15-text"],[1,"font-24-bold"],[1,"chart","mt-4","col","p-0"],[3,"legend","results","view","xAxis","yAxis","scheme","showGridLines"],[1,"d-flex","col-6","p-0"],[1,"d-flex","flex-column","col-6","pl-0"],[1,"p-0"],[1,"d-flex","flex-column","col-6"],[1,"summary-datepicker","summary-dropdown",2,"width","100%"],[1,"summary-button"],[1,"font-14-text","log-card","mt-4"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"span"),c.TgZ(2,"span",1),c.NdJ("click",function(){return t.navigateBack()}),c._uU(3,"Performance of services / "),c.qZA(),c.TgZ(4,"span",2),c._uU(5," View Logs of Service"),c.qZA(),c.qZA(),c.qZA(),c.YNc(6,w,48,12,"div",3)),2&e&&(c.xp6(6),c.Q6J("ngIf",t.serviceDetails))},directives:[a.O5,m.jt,m.iD,m.Vi,a.sg,m.TH,m.Pz,m.nv,m.Vx,m.uN,m.tO,g.w9,o.JJ,o.On,v.KE,Z.Nt,h.hl,o.Fj,o.oH,h.nW,v.R9,h.Mq,r.Dw],pipes:[a.uU],styles:[".mt-26{margin-top:0!important}.mat-form-field-appearance-legacy .mat-form-field-underline{height:0!important}.mat-datepicker-toggle{font-size:18px!important}.card{border-radius:8px;opacity:1;padding:8px 15px;min-width:164px}.chart{width:100%;height:313px}.legend-label-color{border-radius:50%!important}.legend-title-text{display:none!important}"],encapsulation:2}),e})();var S=i(2091);const D=["allServiceTable"];function y(e,t){1&e&&(c.TgZ(0,"th",32),c._uU(1," Service Group "),c.qZA())}function N(e,t){if(1&e&&(c.TgZ(0,"td",33),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.xp6(1),c.hij(" ",e.serviceGroup," ")}}function _(e,t){1&e&&(c.TgZ(0,"th",32),c._uU(1," Type "),c.qZA())}function U(e,t){if(1&e&&(c.TgZ(0,"td",33),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.xp6(1),c.hij(" ",e.serviceType," ")}}function C(e,t){1&e&&(c.TgZ(0,"th",32),c._uU(1," Services "),c.qZA())}function k(e,t){if(1&e&&(c.TgZ(0,"td",33),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.xp6(1),c.hij(" ",e.services," ")}}function M(e,t){1&e&&(c.TgZ(0,"th",32),c._uU(1," Product "),c.qZA())}function I(e,t){if(1&e&&(c.TgZ(0,"td",33),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.xp6(1),c.hij(" ",e.productName," ")}}function J(e,t){1&e&&(c.TgZ(0,"th",32),c._uU(1," Published Date "),c.qZA())}function L(e,t){if(1&e&&(c.TgZ(0,"td",33),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.xp6(1),c.hij(" ",e.createdTimestamp," ")}}function O(e,t){1&e&&(c.TgZ(0,"th",32),c._uU(1," # Subscribers "),c.qZA())}function Q(e,t){if(1&e&&(c.TgZ(0,"td",33),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.xp6(1),c.hij(" ",e.subscribers," ")}}function F(e,t){1&e&&(c.TgZ(0,"th",32),c._uU(1," Status "),c.qZA())}function Y(e,t){if(1&e&&(c.ynx(0),c._UZ(1,"span",35),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&e){const e=c.oxw().$implicit,t=c.oxw(2);c.xp6(1),c.Akn(t.statusColors[t.getStatus(e)]),c.xp6(2),c.hij("",t.getStatus(e)," ")}}function $(e,t){if(1&e&&(c.TgZ(0,"td",33),c.YNc(1,Y,4,3,"ng-container",34),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("ngIf",e.statusItems)}}function R(e,t){1&e&&(c.TgZ(0,"th",32),c._uU(1," Action "),c.qZA())}function B(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"td",33),c.TgZ(1,"img",36),c.NdJ("click",function(){const t=c.CHM(e).$implicit;return c.oxw(2).expandData(t)}),c.qZA(),c.qZA()}}function H(e,t){if(1&e&&(c.ynx(0),c._UZ(1,"span",35),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&e){const e=c.oxw().$implicit,t=c.oxw(4);c.xp6(1),c.Akn(t.statusColors[t.getNestedRowStatus(e)]),c.xp6(2),c.hij("",t.getNestedRowStatus(e)," ")}}function j(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"tr",40),c.TgZ(1,"td",41),c._uU(2),c.qZA(),c.TgZ(3,"td",41),c._uU(4),c.qZA(),c.TgZ(5,"td",41),c._uU(6),c.qZA(),c.TgZ(7,"td",41),c._uU(8),c.qZA(),c.TgZ(9,"td",41),c._uU(10),c.qZA(),c.TgZ(11,"td",41),c._uU(12),c.qZA(),c.TgZ(13,"td",41),c.YNc(14,H,4,3,"ng-container",34),c.qZA(),c.TgZ(15,"td",41),c.TgZ(16,"span",42),c.TgZ(17,"img",43),c.NdJ("click",function(){const t=c.CHM(e).$implicit;return c.oxw(4).viewPerformanceService(t)}),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit;c.oxw(2);const i=c.MAs(2),a=c.oxw(2);c.xp6(1),c.Q6J("ngStyle",a.getCellStyle(e,i,"serviceGroup")),c.xp6(1),c.Oqu(null==e?null:e.apiName),c.xp6(1),c.Q6J("ngStyle",a.getCellStyle(e,i,"serviceType")),c.xp6(1),c.Oqu(null==e?null:e.serviceType),c.xp6(1),c.Q6J("ngStyle",a.getCellStyle(e,i,"services")),c.xp6(1),c.Oqu(null==e?null:e.services),c.xp6(1),c.Q6J("ngStyle",a.getCellStyle(e,i,"productName")),c.xp6(1),c.Oqu(null==e?null:e.productName),c.xp6(1),c.Q6J("ngStyle",a.getCellStyle(e,i,"subscribers")),c.xp6(1),c.Oqu(null==e?null:e.subscribers),c.xp6(1),c.Q6J("ngStyle",a.getCellStyle(e,i,"createdTimestamp")),c.xp6(1),c.Oqu(null==e?null:e.createdTimestamp),c.xp6(1),c.Q6J("ngStyle",a.getCellStyle(e,i,"status")),c.xp6(1),c.Q6J("ngIf",a.statusItems),c.xp6(1),c.Q6J("ngStyle",a.getCellStyle(e,i,"action"))}}function E(e,t){if(1&e&&(c.ynx(0),c.YNc(1,j,18,15,"tr",39),c.BQk()),2&e){const e=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",e.nestedRows)}}function P(e,t){if(1&e&&(c.TgZ(0,"td",33),c.TgZ(1,"div",37,38),c.YNc(3,E,2,1,"ng-container",34),c.qZA(),c.qZA()),2&e){const e=t.$implicit,i=c.oxw(2);c.uIk("colspan",i.columnsToDisplay.length),c.xp6(1),c.Q6J("@detailExpand",e==i.expandedElement?"expanded":"collapsed"),c.xp6(2),c.Q6J("ngIf",e.nestedRows)}}function z(e,t){1&e&&c._UZ(0,"tr",44)}function G(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"tr",45),c.NdJ("click",function(){const t=c.CHM(e).$implicit,i=c.oxw(2);return i.expandedElement=i.expandedElement===t?null:t}),c.qZA()}if(2&e){const e=t.$implicit,i=c.oxw(2);c.ekj("example-expanded-row",i.expandedElement===e)}}function V(e,t){1&e&&c._UZ(0,"tr",46)}const W=function(){return["expandedDetail"]};function X(e,t){if(1&e&&(c.TgZ(0,"table",16,17),c.ynx(2,18),c.YNc(3,y,2,0,"th",19),c.YNc(4,N,2,1,"td",20),c.BQk(),c.ynx(5,21),c.YNc(6,_,2,0,"th",19),c.YNc(7,U,2,1,"td",20),c.BQk(),c.ynx(8,22),c.YNc(9,C,2,0,"th",19),c.YNc(10,k,2,1,"td",20),c.BQk(),c.ynx(11,23),c.YNc(12,M,2,0,"th",19),c.YNc(13,I,2,1,"td",20),c.BQk(),c.ynx(14,24),c.YNc(15,J,2,0,"th",19),c.YNc(16,L,2,1,"td",20),c.BQk(),c.ynx(17,25),c.YNc(18,O,2,0,"th",19),c.YNc(19,Q,2,1,"td",20),c.BQk(),c.ynx(20,26),c.YNc(21,F,2,0,"th",19),c.YNc(22,$,2,1,"td",20),c.BQk(),c.ynx(23,27),c.YNc(24,R,2,0,"th",19),c.YNc(25,B,2,0,"td",20),c.BQk(),c.ynx(26,28),c.YNc(27,P,4,3,"td",20),c.BQk(),c.YNc(28,z,1,0,"tr",29),c.YNc(29,G,1,2,"tr",30),c.YNc(30,V,1,0,"tr",31),c.qZA()),2&e){const e=c.oxw();c.Q6J("dataSource",e.dataSource),c.xp6(28),c.Q6J("matHeaderRowDef",e.columnsToDisplay),c.xp6(1),c.Q6J("matRowDefColumns",e.columnsToDisplay),c.xp6(1),c.Q6J("matRowDefColumns",c.DdM(4,W))}}class K{constructor(){this.size=0,this.totalElements=0,this.totalPages=0,this.pageNumber=0}}const ee=[{path:"",component:(()=>{class e{constructor(e,t,i,a,s){this.router=e,this.httpService=t,this.apiService=i,this.stateService=a,this.datePipe=s,this.active=1,this.statusColors={Active:"background: #44CC3B 0% 0% no-repeat padding-box;",InActive:"background: #FF4B3A 0% 0% no-repeat padding-box;",Pending:"background: #FDAF00 0% 0% no-repeat padding-box;","On Hold":"background: #FDAF00 0% 0% no-repeat padding-box;"},this.expandedElement=null,this.columnsToDisplay=["serviceGroup","serviceType","services","productName","subscribers","createdTimestamp","status","action"],this.types=[{label:"Platform Developer"},{label:"Platform Developer"},{label:"Platform Developer"},{label:"Platform Developer"}],this.serviceName="apiController",this.serviceType="apiController",this.product="apiController",this.serviceTypes=[{id:1,value:"apiController",label:"API controller"},{id:2,value:"dummyController",label:"dummy controller"}],this.status=[{label:"Active"},{label:"Inactive"}],this.page=new K}ngOnInit(){this.page.pageNumber=0,this.page.size=10,this.commonApiCall(`${this.apiService.apiList.serviceManagement.servicegroup}?page=${this.page.pageNumber}&limit=${this.page.size}`,"getMethod",{},"listService",{},!1)}listService(e,t){console.log(e,t),this.dataSource=e.content.map(e=>(e.createdTimestamp=this.datePipe.transform(e.createdTimestamp,"mediumDate"),e)),this.commonApiCall(`${this.apiService.apiList.serviceManagement.statusList}`,"getMethod",{},"statusList",{},!1)}statusList(e){console.log(e),this.statusItems=e}getStatus(e){return this.statusItems.find(t=>t.statusCode==e.serviceStatus).statusName}getNestedRowStatus(e){return this.statusItems.find(t=>t.statusCode==e.apiStatus).statusName}expandData(e){e.nestedRows&&e.nestedRows.length>0||this.commonApiCall(`${this.apiService.apiList.serviceManagement.services}/${e.serviceId}`,"getMethod",{},"displayServices",e,!1)}displayServices(e,t){t.nestedRows=e.map(e=>(e.createdTimestamp=this.datePipe.transform(e.createdTimestamp,"mediumDate"),e))}getCellStyle(e,t,i){let a=this.allServiceTable._document.querySelector(`.mat-column-${i}`).getBoundingClientRect().width;return"serviceGroup"===i&&(a-=24),a+="px",{width:a,padding:"0.75rem 0rem"}}commonApiCall(e,t,i,a,s,n=!1){this.stateService.addCalledApi(e),this.httpService[t](e,n,i).subscribe(e=>{this[a](e,s)},t=>{var i;(null===(i=t.error)||void 0===i?void 0:i.error)&&"string"==typeof t.error.error&&this.stateService.showMessage({type:"message",message:[t.error.error]}),this.stateService.removeCalledApi(e)},()=>{this.stateService.removeCalledApi(e)})}viewPerformanceService(e){this.router.navigate([`/content/home/performance-services/view/${e.serviceDetailsId}`],{queryParams:{serviceId:e.serviceId}})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(n.F0),c.Y36(d.O),c.Y36(u.s),c.Y36(p.b),c.Y36(a.uU))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-performance-services"]],viewQuery:function(e,t){if(1&e&&c.Gf(D,5),2&e){let e;c.iGM(e=c.CRH())&&(t.allServiceTable=e.first)}},decls:27,vars:13,consts:[[1,"component-wrapper","pl-4","pr-4"],[1,"mt-3"],[1,"search-bar","mt-17","row","align-items-center","justify-items-center"],[1,"form-group","has-search","col-md-4"],[1,"page-heading"],["src","/assets/images/help_outline_black_24dp.svg","alt","help outline icon"],[1,"form-control-search-icon"],["src","/assets/images/search_black_24dp.svg","alt","search icons"],["type","text","placeholder","search",1,"form-control"],[1,"mt-2"],[1,"form-group","col-md-2"],["for","serviceType",1,"form-label-16"],["labelForId","serviceName","bindLable","label","bindValue","value",3,"searchable","clearable","items","ngModel","ngModelChange"],["labelForId","serviceType","bindLable","label","bindValue","value",3,"searchable","clearable","ngModel","items","ngModelChange"],["labelForId","product","bindLable","label","bindValue","value",3,"searchable","clearable","ngModel","items","ngModelChange"],["mat-table","","multiTemplateDataRows","","class","w-100",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"w-100",3,"dataSource"],["allServiceTable",""],["matColumnDef","serviceGroup"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","serviceType"],["matColumnDef","services"],["matColumnDef","productName"],["matColumnDef","createdTimestamp"],["matColumnDef","subscribers"],["matColumnDef","status"],["matColumnDef","action","width","30%"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[1,"d-inline-block","mr-2",2,"width","10px","height","10px","border-radius","50%"],["src","/assets/images/Icons-Line-chevrons-left.svg","alt","expand icon",1,"expand_icon",3,"click"],[1,"example-element-detail"],["nav",""],["class","nested-rows",4,"ngFor","ngForOf"],[1,"nested-rows"],["mat-cell","",3,"ngStyle"],[1,"d-inline-block","ml-2"],["src","/assets/images/view_icon.svg","alt","view icon",1,"view_icon",3,"click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"label",4),c._uU(5," Performance of services "),c.TgZ(6,"span"),c._UZ(7,"img",5),c.qZA(),c.qZA(),c.TgZ(8,"span",6),c._UZ(9,"img",7),c.qZA(),c._UZ(10,"input",8),c.qZA(),c.TgZ(11,"span",9),c._uU(12,"Filters:"),c.qZA(),c.TgZ(13,"div",10),c.TgZ(14,"label",11),c._uU(15,"Service Name"),c.qZA(),c.TgZ(16,"ng-select",12),c.NdJ("ngModelChange",function(e){return t.serviceName=e}),c.qZA(),c.qZA(),c.TgZ(17,"div",10),c.TgZ(18,"label",11),c._uU(19,"Service Type"),c.qZA(),c.TgZ(20,"ng-select",13),c.NdJ("ngModelChange",function(e){return t.serviceType=e}),c.qZA(),c.qZA(),c.TgZ(21,"div",10),c.TgZ(22,"label",11),c._uU(23,"Product"),c.qZA(),c.TgZ(24,"ng-select",14),c.NdJ("ngModelChange",function(e){return t.product=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"div"),c.YNc(26,X,31,5,"table",15),c.qZA(),c.qZA()),2&e&&(c.xp6(16),c.Q6J("searchable",!1)("clearable",!1)("items",t.serviceTypes)("ngModel",t.serviceName),c.xp6(4),c.Q6J("searchable",!1)("clearable",!1)("ngModel",t.serviceType)("items",t.serviceTypes),c.xp6(4),c.Q6J("searchable",!1)("clearable",!1)("ngModel",t.product)("items",t.serviceTypes),c.xp6(2),c.Q6J("ngIf",t.dataSource))},directives:[g.w9,o.JJ,o.On,a.O5,S.BZ,S.w1,S.fO,S.Dz,S.as,S.nj,S.ge,S.ev,a.sg,a.PC,S.XQ,S.Gk],styles:[".nested-rows{background:#f8fbff 0 0 no-repeat padding-box}table{width:100%}tr.example-detail-row{height:0!important}tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.mat-cell:last-child,.mat-header-cell:last-child{width:18%}.example-element-detail{overflow:hidden;display:flex;flex-direction:column}.example-element-detail .mat-cell:first-of-type{padding-left:0!important}.example-element-detail .mat-cell:last-of-type{padding-right:0!important}.example-element-detail tr{height:48px!important}td.mat-column-expandedDetail{padding-right:0!important}.example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}tr.mat-header-row{height:50px!important;background:#eff5fc 0 0 no-repeat padding-box}"],encapsulation:2}),e})()},{path:"view/:id",component:q}];let te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[n.Bz.forChild(ee)],n.Bz]}),e})();var ie=i(3013);let ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[ie.ez],imports:[[a.ez,s.m8,te]]}),e})()}}]);